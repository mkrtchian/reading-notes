<!DOCTYPE html><html><head><meta charSet="utf-8" data-next-head=""/><title data-next-head="">Facilitating Software Architecture – Reading notes</title><meta name="robots" content="index,follow" data-next-head=""/><meta name="description" content="My detailed reading notes from computer science books" data-next-head=""/><meta property="og:title" content="Facilitating Software Architecture – Reading notes" data-next-head=""/><meta property="og:description" content="My detailed reading notes from computer science books" data-next-head=""/><meta name="theme-color" content="#111" media="(prefers-color-scheme: dark)" data-next-head=""/><meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" data-next-head=""/><style data-next-head="">
        :root {
          --nextra-primary-hue: 212deg;
          --nextra-primary-saturation: 100%;
          --nextra-navbar-height: 4rem;
          --nextra-menu-height: 3.75rem;
          --nextra-banner-height: 2.5rem;
        }
        
        .dark {
          --nextra-primary-hue: 204deg;
          --nextra-primary-saturation: 100%;
        }
      </style><meta name="msapplication-TileColor" content="#fff" data-next-head=""/><meta http-equiv="Content-Language" content="en" data-next-head=""/><meta name="description" content="My detailed reading notes from computer science books" data-next-head=""/><meta property="og:title" content="Reading notes" data-next-head=""/><meta property="og:description" content="My detailed reading notes from computer science books" data-next-head=""/><meta name="apple-mobile-web-app-title" content="Reading notes" data-next-head=""/><link rel="icon" type="image/x-icon" href="/reading-notes/favicon.ico" data-next-head=""/><link rel="preload" href="/reading-notes/_next/static/css/d68e0ada9c50b9c4.css" as="style"/><link rel="stylesheet" href="/reading-notes/_next/static/css/d68e0ada9c50b9c4.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/reading-notes/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="/reading-notes/_next/static/chunks/webpack-e4371653531ace6e.js" defer=""></script><script src="/reading-notes/_next/static/chunks/framework-f75312fc4004b783.js" defer=""></script><script src="/reading-notes/_next/static/chunks/main-cc4befde347b5284.js" defer=""></script><script src="/reading-notes/_next/static/chunks/pages/_app-ec1c7a78ce86eb7c.js" defer=""></script><script src="/reading-notes/_next/static/chunks/301-5c7ec1cf3afc66df.js" defer=""></script><script src="/reading-notes/_next/static/chunks/pages/books/facilitating-software-architecture-fd0e276c5f52f28f.js" defer=""></script><script src="/reading-notes/_next/static/xuNC9Xhs0EOmT5OnEogRT/_buildManifest.js" defer=""></script><script src="/reading-notes/_next/static/xuNC9Xhs0EOmT5OnEogRT/_ssgManifest.js" defer=""></script></head><body><div id="__next"><script>!function(){try{var d=document.documentElement,c=d.classList;c.remove('light','dark');var e=localStorage.getItem('theme');if('system'===e||(!e&&true)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';c.add('dark')}else{d.style.colorScheme = 'light';c.add('light')}}else if(e){c.add(e|| '')}if(e==='light'||e==='dark')d.style.colorScheme=e}catch(e){}}()</script><div dir="ltr"><script>document.documentElement.setAttribute('dir','ltr')</script><div class="nextra-nav-container nx-sticky nx-top-0 nx-z-20 nx-w-full nx-bg-transparent print:nx-hidden"><div class="nextra-nav-container-blur nx-pointer-events-none nx-absolute nx-z-[-1] nx-h-full nx-w-full nx-bg-white dark:nx-bg-dark nx-shadow-[0_2px_4px_rgba(0,0,0,.02),0_1px_0_rgba(0,0,0,.06)] dark:nx-shadow-[0_-1px_0_rgba(255,255,255,.1)_inset] contrast-more:nx-shadow-[0_0_0_1px_#000] contrast-more:dark:nx-shadow-[0_0_0_1px_#fff]"></div><nav class="nx-mx-auto nx-flex nx-h-[var(--nextra-navbar-height)] nx-max-w-[90rem] nx-items-center nx-justify-end nx-gap-2 nx-pl-[max(env(safe-area-inset-left),1.5rem)] nx-pr-[max(env(safe-area-inset-right),1.5rem)]"><a class="nx-flex nx-items-center hover:nx-opacity-75 ltr:nx-mr-auto rtl:nx-ml-auto" href="/reading-notes/"><img alt="Reading notes homepage" loading="lazy" width="30" height="30" decoding="async" data-nimg="1" style="color:transparent" src="/reading-notes/logo.png"/></a><div class="nextra-search nx-relative md:nx-w-64 nx-hidden md:nx-inline-block mx-min-w-[200px]"><div class="nx-relative nx-flex nx-items-center nx-text-gray-900 contrast-more:nx-text-gray-800 dark:nx-text-gray-300 contrast-more:dark:nx-text-gray-300"><input spellcheck="false" class="nx-block nx-w-full nx-appearance-none nx-rounded-lg nx-px-3 nx-py-2 nx-transition-colors nx-text-base nx-leading-tight md:nx-text-sm nx-bg-black/[.05] dark:nx-bg-gray-50/10 focus:nx-bg-white dark:focus:nx-bg-dark placeholder:nx-text-gray-500 dark:placeholder:nx-text-gray-400 contrast-more:nx-border contrast-more:nx-border-current" type="search" placeholder="Search documentation…" value=""/></div></div><a href="https://github.com/mkrtchian/reading-notes" target="_blank" rel="noreferrer" class="nx-p-2 nx-text-current"><svg width="24" height="24" fill="currentColor" viewBox="3 3 18 18"><title>GitHub</title><path d="M12 3C7.0275 3 3 7.12937 3 12.2276C3 16.3109 5.57625 19.7597 9.15374 20.9824C9.60374 21.0631 9.77249 20.7863 9.77249 20.5441C9.77249 20.3249 9.76125 19.5982 9.76125 18.8254C7.5 19.2522 6.915 18.2602 6.735 17.7412C6.63375 17.4759 6.19499 16.6569 5.8125 16.4378C5.4975 16.2647 5.0475 15.838 5.80124 15.8264C6.51 15.8149 7.01625 16.4954 7.18499 16.7723C7.99499 18.1679 9.28875 17.7758 9.80625 17.5335C9.885 16.9337 10.1212 16.53 10.38 16.2993C8.3775 16.0687 6.285 15.2728 6.285 11.7432C6.285 10.7397 6.63375 9.9092 7.20749 9.26326C7.1175 9.03257 6.8025 8.08674 7.2975 6.81794C7.2975 6.81794 8.05125 6.57571 9.77249 7.76377C10.4925 7.55615 11.2575 7.45234 12.0225 7.45234C12.7875 7.45234 13.5525 7.55615 14.2725 7.76377C15.9937 6.56418 16.7475 6.81794 16.7475 6.81794C17.2424 8.08674 16.9275 9.03257 16.8375 9.26326C17.4113 9.9092 17.76 10.7281 17.76 11.7432C17.76 15.2843 15.6563 16.0687 13.6537 16.2993C13.98 16.5877 14.2613 17.1414 14.2613 18.0065C14.2613 19.2407 14.25 20.2326 14.25 20.5441C14.25 20.7863 14.4188 21.0746 14.8688 20.9824C16.6554 20.364 18.2079 19.1866 19.3078 17.6162C20.4077 16.0457 20.9995 14.1611 21 12.2276C21 7.12937 16.9725 3 12 3Z"></path></svg><span class="nx-sr-only">GitHub</span><span class="nx-sr-only nx-select-none"> (opens in a new tab)</span></a><button type="button" aria-label="Menu" class="nextra-hamburger -nx-mr-2 nx-rounded nx-p-2 active:nx-bg-gray-400/20 md:nx-hidden"><svg fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor" class=""><g><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16"></path></g><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12h16"></path><g><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 18h16"></path></g></svg></button></nav></div><div class="nx-mx-auto nx-flex nx-max-w-[90rem]"><div class="motion-reduce:nx-transition-none [transition:background-color_1.5s_ease] nx-bg-transparent"></div><aside class="nextra-sidebar-container nx-flex nx-flex-col md:nx-top-16 md:nx-shrink-0 motion-reduce:nx-transform-none nx-transform-gpu nx-transition-all nx-ease-in-out print:nx-hidden md:nx-w-64 md:nx-sticky md:nx-self-start max-md:[transform:translate3d(0,-100%,0)]"><div class="nx-px-4 nx-pt-4 md:nx-hidden"><div class="nextra-search nx-relative md:nx-w-64"><div class="nx-relative nx-flex nx-items-center nx-text-gray-900 contrast-more:nx-text-gray-800 dark:nx-text-gray-300 contrast-more:dark:nx-text-gray-300"><input spellcheck="false" class="nx-block nx-w-full nx-appearance-none nx-rounded-lg nx-px-3 nx-py-2 nx-transition-colors nx-text-base nx-leading-tight md:nx-text-sm nx-bg-black/[.05] dark:nx-bg-gray-50/10 focus:nx-bg-white dark:focus:nx-bg-dark placeholder:nx-text-gray-500 dark:placeholder:nx-text-gray-400 contrast-more:nx-border contrast-more:nx-border-current" type="search" placeholder="Search documentation…" value=""/></div></div></div><div class="nx-overflow-y-auto nx-overflow-x-hidden nx-p-4 nx-grow md:nx-h-[calc(100vh-var(--nextra-navbar-height)-var(--nextra-menu-height))] nextra-scrollbar"><div class="nx-transform-gpu nx-overflow-hidden nx-transition-all nx-ease-in-out motion-reduce:nx-transition-none"><div class="nx-transition-opacity nx-duration-500 nx-ease-in-out motion-reduce:nx-transition-none nx-opacity-100"><ul class="nx-flex nx-flex-col nx-gap-1 nextra-menu-desktop max-md:nx-hidden"><li class="nx-flex nx-flex-col nx-gap-1"><a class="nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50" href="/reading-notes/">Introduction</a></li><li class="open"><button class="nx-items-center nx-justify-between nx-gap-2 nx-text-left nx-w-full nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50">Reading notes<svg fill="none" viewBox="0 0 24 24" stroke="currentColor" class="nx-h-[18px] nx-min-w-[18px] nx-rounded-sm nx-p-0.5 hover:nx-bg-gray-800/5 dark:hover:nx-bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="nx-origin-center nx-transition-transform rtl:-nx-rotate-180 ltr:nx-rotate-90 rtl:nx-rotate-[-270deg]"></path></svg></button><div class="nx-transform-gpu nx-overflow-hidden nx-transition-all nx-ease-in-out motion-reduce:nx-transition-none"><div class="nx-transition-opacity nx-duration-500 nx-ease-in-out motion-reduce:nx-transition-none nx-opacity-100 ltr:nx-pr-0 rtl:nx-pl-0 nx-pt-1"><ul class="nx-flex nx-flex-col nx-gap-1 nx-relative before:nx-absolute before:nx-inset-y-1 before:nx-w-px before:nx-bg-gray-200 before:nx-content-[&quot;&quot;] dark:before:nx-bg-neutral-800 ltr:nx-pl-3 ltr:before:nx-left-0 rtl:nx-pr-3 rtl:before:nx-right-0 ltr:nx-ml-3 rtl:nx-mr-3"><li class="nx-flex nx-flex-col nx-gap-1"><a class="nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50" href="/reading-notes/books/accelerate/">Accelerate</a></li><li class="nx-flex nx-flex-col nx-gap-1"><a class="nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50" href="/reading-notes/books/architecture-patterns-with-python/">Architecture Patterns with Python</a></li><li class="nx-flex nx-flex-col nx-gap-1"><a class="nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50" href="/reading-notes/books/continuous-discovery-habits/">Continuous Discovery Habits</a></li><li class="nx-flex nx-flex-col nx-gap-1"><a class="nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50" href="/reading-notes/books/designing-cloud-data-platforms/">Designing Cloud Data Platforms</a></li><li class="nx-flex nx-flex-col nx-gap-1"><a class="nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50" href="/reading-notes/books/designing-data-intensive-applications/">Designing Data-Intensive Applications</a></li><li class="nx-flex nx-flex-col nx-gap-1"><a class="nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50" href="/reading-notes/books/effective-kafka/">Effective Kafka</a></li><li class="nx-flex nx-flex-col nx-gap-1"><a class="nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50" href="/reading-notes/books/effective-typescript/">Effective TypeScript</a></li><li class="nx-flex nx-flex-col nx-gap-1 active"><a class="nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-bg-primary-100 nx-font-semibold nx-text-primary-800 dark:nx-bg-primary-400/10 dark:nx-text-primary-600 contrast-more:nx-border-primary-500 contrast-more:dark:nx-border-primary-500" href="/reading-notes/books/facilitating-software-architecture/">Facilitating Software Architecture</a></li><li class="nx-flex nx-flex-col nx-gap-1"><a class="nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50" href="/reading-notes/books/get-your-hands-dirty-on-clean-architecture/">Get Your Hands Dirty on Clean Architecture</a></li><li class="nx-flex nx-flex-col nx-gap-1"><a class="nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50" href="/reading-notes/books/learning-domain-driven-design/">Learning Domain-Driven Design</a></li><li class="nx-flex nx-flex-col nx-gap-1"><a class="nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50" href="/reading-notes/books/learning-to-scale/">Learning to Scale</a></li><li class="nx-flex nx-flex-col nx-gap-1"><a class="nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50" href="/reading-notes/books/monolith-to-microservices/">Monolith to Microservices</a></li><li class="nx-flex nx-flex-col nx-gap-1"><a class="nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50" href="/reading-notes/books/no-rules-rules/">No Rules Rules</a></li><li class="nx-flex nx-flex-col nx-gap-1"><a class="nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50" href="/reading-notes/books/outcomes-over-output/">Outcomes Over Output</a></li><li class="nx-flex nx-flex-col nx-gap-1"><a class="nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50" href="/reading-notes/books/refactoring/">Refactoring: Improving the Design of Existing Code</a></li><li class="nx-flex nx-flex-col nx-gap-1"><a class="nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50" href="/reading-notes/books/reinventing-organizations/">Reinventing Organizations</a></li><li class="nx-flex nx-flex-col nx-gap-1"><a class="nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50" href="/reading-notes/books/team-topologies/">Team Topologies</a></li><li class="nx-flex nx-flex-col nx-gap-1"><a class="nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50" href="/reading-notes/books/technical-agile-coaching-samman-method/">Technical Agile Coaching with the Samman Method</a></li><li class="nx-flex nx-flex-col nx-gap-1"><a class="nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50" href="/reading-notes/books/test-driven-development-by-example/">Test-Driven Development: By Example</a></li><li class="nx-flex nx-flex-col nx-gap-1"><a class="nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50" href="/reading-notes/books/the-design-of-web-apis/">The Design of Web APIs</a></li><li class="nx-flex nx-flex-col nx-gap-1"><a class="nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50" href="/reading-notes/books/the-five-dysfunctions-of-a-team/">The Five Dysfunctions of a Team</a></li><li class="nx-flex nx-flex-col nx-gap-1"><a class="nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50" href="/reading-notes/books/turn-the-ship-around/">Turn the Ship Around!</a></li><li class="nx-flex nx-flex-col nx-gap-1"><a class="nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50" href="/reading-notes/books/unit-testing/">Unit Testing: Principles, Practices, and Patterns</a></li></ul></div></div></li></ul></div></div></div><div class="nx-sticky nx-bottom-0 nx-bg-white dark:nx-bg-dark nx-mx-4 nx-py-4 nx-shadow-[0_-12px_16px_#fff] nx-flex nx-items-center nx-gap-2 dark:nx-border-neutral-800 dark:nx-shadow-[0_-12px_16px_#111] contrast-more:nx-border-neutral-400 contrast-more:nx-shadow-none contrast-more:dark:nx-shadow-none nx-border-t" data-toggle-animation="off"><div class="nx-grow nx-flex nx-flex-col"><button title="Change theme" class="nx-h-7 nx-rounded-md nx-px-2 nx-text-left nx-text-xs nx-font-medium nx-text-gray-600 nx-transition-colors dark:nx-text-gray-400 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50" id="headlessui-listbox-button-:Rlsr6:" type="button" aria-haspopup="listbox" aria-expanded="false" data-headlessui-state=""><div class="nx-flex nx-items-center nx-gap-2 nx-capitalize"><svg fill="none" viewBox="3 3 18 18" width="12" height="12" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" fill="currentColor" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path></svg><span class="">Light</span></div></button></div></div></aside><nav class="nextra-toc nx-order-last nx-hidden nx-w-64 nx-shrink-0 xl:nx-block print:nx-hidden nx-px-4" aria-label="table of contents"><div class="nextra-scrollbar nx-sticky nx-top-16 nx-overflow-y-auto nx-pr-4 nx-pt-6 nx-text-sm [hyphens:auto] nx-max-h-[calc(100vh-var(--nextra-navbar-height)-env(safe-area-inset-bottom))] ltr:-nx-mr-4 rtl:-nx-ml-4"><p class="nx-mb-4 nx-font-semibold nx-tracking-tight">On This Page</p><ul><li class="nx-my-2 nx-scroll-my-6 nx-scroll-py-6"><a href="#1---centralized-architecture-practices-in-a-decentralized-world" class="ltr:nx-pl-4 rtl:nx-pr-4 nx-inline-block nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-300 contrast-more:nx-text-gray-900 contrast-more:nx-underline contrast-more:dark:nx-text-gray-50 nx-w-full nx-break-words">1 - Centralized Architecture Practices in a Decentralized World</a></li><li class="nx-my-2 nx-scroll-my-6 nx-scroll-py-6"><a href="#part-i---first-principles" class="nx-font-semibold nx-inline-block nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-300 contrast-more:nx-text-gray-900 contrast-more:nx-underline contrast-more:dark:nx-text-gray-50 nx-w-full nx-break-words">Part I - First Principles</a></li><li class="nx-my-2 nx-scroll-my-6 nx-scroll-py-6"><a href="#2---to-practice-architecture-is-to-decide" class="ltr:nx-pl-4 rtl:nx-pr-4 nx-inline-block nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-300 contrast-more:nx-text-gray-900 contrast-more:nx-underline contrast-more:dark:nx-text-gray-50 nx-w-full nx-break-words">2 - To Practice Architecture is to Decide</a></li><li class="nx-my-2 nx-scroll-my-6 nx-scroll-py-6"><a href="#3---decisions-at-scale" class="ltr:nx-pl-4 rtl:nx-pr-4 nx-inline-block nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-300 contrast-more:nx-text-gray-900 contrast-more:nx-underline contrast-more:dark:nx-text-gray-50 nx-w-full nx-break-words">3 - Decisions at Scale</a></li><li class="nx-my-2 nx-scroll-my-6 nx-scroll-py-6"><a href="#4---the-architecture-advice-process" class="ltr:nx-pl-4 rtl:nx-pr-4 nx-inline-block nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-300 contrast-more:nx-text-gray-900 contrast-more:nx-underline contrast-more:dark:nx-text-gray-50 nx-w-full nx-break-words">4 - The Architecture Advice Process</a></li><li class="nx-my-2 nx-scroll-my-6 nx-scroll-py-6"><a href="#5---rolling-out-the-architecture-advice-process" class="ltr:nx-pl-4 rtl:nx-pr-4 nx-inline-block nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-300 contrast-more:nx-text-gray-900 contrast-more:nx-underline contrast-more:dark:nx-text-gray-50 nx-w-full nx-break-words">5 - Rolling Out the Architecture Advice Process</a></li><li class="nx-my-2 nx-scroll-my-6 nx-scroll-py-6"><a href="#6---architectural-decision-records" class="ltr:nx-pl-4 rtl:nx-pr-4 nx-inline-block nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-300 contrast-more:nx-text-gray-900 contrast-more:nx-underline contrast-more:dark:nx-text-gray-50 nx-w-full nx-break-words">6 - Architectural Decision Records</a></li><li class="nx-my-2 nx-scroll-my-6 nx-scroll-py-6"><a href="#part-ii---nurturing-and-evolving-your-culture-of-decentralized-trust" class="nx-font-semibold nx-inline-block nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-300 contrast-more:nx-text-gray-900 contrast-more:nx-underline contrast-more:dark:nx-text-gray-50 nx-w-full nx-break-words">Part II - Nurturing and Evolving Your Culture of Decentralized Trust</a></li><li class="nx-my-2 nx-scroll-my-6 nx-scroll-py-6"><a href="#7---replacing-hierarchy-with-decentralized-trust" class="ltr:nx-pl-4 rtl:nx-pr-4 nx-inline-block nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-300 contrast-more:nx-text-gray-900 contrast-more:nx-underline contrast-more:dark:nx-text-gray-50 nx-w-full nx-break-words">7 - Replacing Hierarchy with Decentralized Trust</a></li></ul><div class="nx-mt-8 nx-border-t nx-bg-white nx-pt-8 nx-shadow-[0_-12px_16px_white] dark:nx-bg-dark dark:nx-shadow-[0_-12px_16px_#111] nx-sticky nx-bottom-0 nx-flex nx-flex-col nx-items-start nx-gap-2 nx-pb-8 dark:nx-border-neutral-800 contrast-more:nx-border-t contrast-more:nx-border-neutral-400 contrast-more:nx-shadow-none contrast-more:dark:nx-border-neutral-400"><a href="https://github.com/mkrtchian/reading-notes/issues/new?title=Feedback%20for%20%E2%80%9CFacilitating%20Software%20Architecture%E2%80%9D&amp;labels=feedback" target="_blank" rel="noreferrer" class="nx-text-xs nx-font-medium nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-100 contrast-more:nx-text-gray-800 contrast-more:dark:nx-text-gray-50">Question? Give me feedback →<span class="nx-sr-only nx-select-none"> (opens in a new tab)</span></a><a class="nx-text-xs nx-font-medium nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-100 contrast-more:nx-text-gray-800 contrast-more:dark:nx-text-gray-50" href="https://github.com/mkrtchian/reading-notes/blob/main/pages/books/facilitating-software-architecture.md">Edit this page</a></div></div></nav><div id="reach-skip-nav"></div><article class="nx-w-full nx-break-words nextra-content nx-flex nx-min-h-[calc(100vh-var(--nextra-navbar-height))] nx-min-w-0 nx-justify-center nx-pb-8 nx-pr-[calc(env(safe-area-inset-right)-1.5rem)]"><main class="nx-w-full nx-min-w-0 nx-max-w-6xl nx-px-6 nx-pt-4 md:nx-px-12"><div class="nextra-breadcrumb nx-mt-1.5 nx-flex nx-items-center nx-gap-1 nx-overflow-hidden nx-text-sm nx-text-gray-500 dark:nx-text-gray-400 contrast-more:nx-text-current"><div class="nx-whitespace-nowrap nx-transition-colors nx-min-w-[24px] nx-overflow-hidden nx-text-ellipsis" title="Reading notes">Reading notes</div><svg fill="none" viewBox="0 0 24 24" stroke="currentColor" class="nx-w-3.5 nx-shrink-0"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg><div class="nx-whitespace-nowrap nx-transition-colors nx-font-medium nx-text-gray-700 contrast-more:nx-font-bold contrast-more:nx-text-current dark:nx-text-gray-100 contrast-more:dark:nx-text-current" title="Facilitating Software Architecture">Facilitating Software Architecture</div></div><h1 class="nx-mt-2 nx-text-4xl nx-font-bold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100">Facilitating Software Architecture</h1>
<h3 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-2xl">1 - Centralized Architecture Practices in a Decentralized World<a href="#1---centralized-architecture-practices-in-a-decentralized-world" id="1---centralized-architecture-practices-in-a-decentralized-world" class="subheading-anchor" aria-label="Permalink for this section"></a></h3>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">La <strong>software architecture</strong> est :
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Selon Grady Booch : “the set of significant design decisions that shape the form and function of the system”.</li>
<li class="nx-my-2">Selon Martin Fowler : “those decisions that are both important and hard to change”.</li>
</ul>
</li>
<li class="nx-my-2">Pour l’auteur, l’architecture a deux composantes bien mises en valeur par ces deux définitions : (1) le <strong>résultat final du système en lui-même</strong> d’une part, et (2) la <strong>pratique consistant à prendre les décisions d’architecture</strong> d’autre part.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Le point (1) a été largement étayé et formalisé sous forme de patterns . Le point (2) beaucoup moins, et c’est l’objet de ce livre.</li>
<li class="nx-my-2">Une bonne architecture implique :
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Des parties cohérentes, cohésives, et alignées avec le domaine.</li>
<li class="nx-my-2">Des parties découplées permettant à des équipes de travailler en parallèle.</li>
<li class="nx-my-2">Une architecture suffisamment qu’on peut changer facilement.</li>
</ul>
</li>
<li class="nx-my-2">La pratique doit donc permettre d’obtenir ce genre de résultat.</li>
</ul>
</li>
<li class="nx-my-2">La pratique de l’architecture sous sa forme <strong>traditionnelle</strong> ne permet pas de répondre aux enjeux d’architecture moderne.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Il y a deux formes de pratique traditionnelle (en réalité c’est toujours un mix des deux) :
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2"><strong>1 - Ivory tower architects</strong> : les architectes prennent les décisions d’architecture globales, mais aussi locales à chaque produit.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">On constate en général une homogénéisation de l’architecture pour la rendre plus intelligible et contrôlable par l’architecte, au détriment des spécificités locales de chaque produit.</li>
<li class="nx-my-2">L’architecte est d’autant plus vu comme au-dessus des autres.</li>
</ul>
</li>
<li class="nx-my-2"><strong>2 - Hands on architects</strong> : les architectes vont voir les équipes et co-designent et codent le système avec eux, en passant d&#x27;équipe en équipe.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Ils n’ont pas le temps de rester assez avec chaque équipe pour répondre à toutes les problématiques, ni le temps de se consacrer suffisamment à la vision globale du système.</li>
</ul>
</li>
</ul>
</li>
<li class="nx-my-2">Le problème principal avec les deux approches, c’est que l’architecte est <strong>responsable des décisions d’architecture à la place des équipes</strong>.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Il n’arrive pas à suivre les détails de chaque partie locale que les équipes connaissent mieux, et il manque de temps pour traiter toutes les demandes correctement.</li>
<li class="nx-my-2">Il en résulte qu’il devient un bottleneck pour les équipes, et finit par prendre des décisions de moins bonne qualité.</li>
</ul>
</li>
</ul>
</li>
<li class="nx-my-2">Selon l’auteur, le monde du logiciel a connu <strong>5 révolutions</strong> techniques et socio-techniques :
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2"><strong>1 - Agile manifesto</strong> : focus sur un code testé qui marche, livré régulièrement, et en faisant confiance aux développeurs pour faire le travail.</li>
<li class="nx-my-2"><strong>2 - Cloud computing</strong> : on a pu déployer des systèmes très rapidement, sans avoir à mettre en place une infrastructure physique pendant des semaines.</li>
<li class="nx-my-2"><strong>3 - DevOps</strong> : on a pu mettre la fonctionnalité dans les main de l’utilisateur en quelques instants, grâce au fait que les équipes de delivery avaient maintenant la main sur le déploiement et la gestion de leur application.</li>
<li class="nx-my-2"><strong>4 - Product thinking</strong> : on a cherché à obtenir du feedback des utilisateurs le plus vite et le plus souvent possible, pour s’assurer de construire la solution qui apporte le plus de valeur.</li>
<li class="nx-my-2"><strong>5 - Stream-aligned teams</strong> : on a privilégié les équipes autonomes responsables des changements de bout en bout, travaillant sur des produits sur lesquels elles ont l’ownership.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Cette dernière a eu une période de gestation très longue :
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Elle était déjà mise en avant dans le livre <strong><em>Domain Driven Design</em></strong> d’Eric Evans et <strong><em>The Principles of Product Development Flow</em></strong> de Donald Reinertsen.</li>
<li class="nx-my-2">Elle a été facilitée par le concept de microservices de James Lewis.</li>
<li class="nx-my-2">Puis elle a été popularisée par <strong><em>Accelerate</em></strong> de la team DORA, <strong><em>Inspired</em></strong> de Marty Cagan et <strong><em>Team Topologies</em></strong> de Matthiew Skelton et Samuel Pais.</li>
</ul>
</li>
</ul>
</li>
<li class="nx-my-2">Lorsque ces révolutions sont combinées, on obtient des systèmes très efficaces, capables de mettre chaque incrément de feature dans les mains de l’utilisateur très vite, et de maximiser la valeur.</li>
<li class="nx-my-2">L’approche traditionnelle de l’architecture logicielle est basée sur le contrôle, et ne permet pas d’adhérer aux 5 révolutions : il y a <strong>trop de complexité</strong> dans le système, et <strong>trop de choses qui changent</strong> pour qu’une poignée d’architectes puissent être responsables des décisions d’architecture.</li>
</ul>
</li>
<li class="nx-my-2">Les révolutions ont mené à une <strong>décentralisation</strong> de plus en plus grande.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Quelques caractéristiques de ce qu’est la décentralisation :
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">La décentralisation n’est <strong>pas la distribution</strong> : il s’agit d’avoir des parties autonomes plutôt qu’un tout séparé en morceaux interdépendants (par exemple monolithe distribué).</li>
<li class="nx-my-2">Décentraliser veut dire <strong>abandonner le contrôle</strong> central et laisser l’indépendance aux parties.</li>
<li class="nx-my-2">La décentralisation <strong>augmente la complexité</strong>. On externalise l’infrastructure, l’envoi de SMS, le paiement et d’autres choses pour pouvoir avoir plus de parties dans notre système.</li>
</ul>
</li>
<li class="nx-my-2">Les <strong>équipes décentralisées</strong> fonctionnent mieux.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Les équipes ont parfois des problèmes de couplage avec d’autres équipes : en général soit du <em>work coupling</em> (attendre que l’autre équipe ait fini sa partie), soit du <em>permission coupling</em> (je dois demander avant d’agir).</li>
<li class="nx-my-2">Réduire ces couplages permet d’obtenir de meilleurs résultats mais aussi des développeurs plus heureux (cf. <strong><em>Accelerate</em></strong>).</li>
<li class="nx-my-2">L’idée est de laisser les équipes travailler en <strong>autonomie</strong>, en réduisant leur cycle de livraison pour qu’ils se préoccupent eux-mêmes de la valeur de ce qu’ils apportent aux clients.</li>
</ul>
</li>
<li class="nx-my-2">Le <strong>logiciel décentralisé</strong> fonctionne mieux. Il n’y a qu’à voir la quantité de briques qu’on externalise chez des providers payants.</li>
<li class="nx-my-2">Pour que ça marche, il faut <strong>aligner les deux</strong>. Très souvent on essaye de décentraliser le logiciel alors qu’on a une structure d’équipe centralisée, et ça fonctionne mal.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">L’auteur recommande fortement <a href="https://www.melconway.com/Home/pdf/committees.pdf" target="_blank" rel="noreferrer" class="nx-text-primary-600 nx-underline nx-decoration-from-font [text-underline-position:from-font]">l&#x27;étude célèbre de Conway de 1968<span class="nx-sr-only nx-select-none"> (opens in a new tab)</span></a> qui ne fait que 4 pages.</li>
</ul>
</li>
</ul>
</li>
<li class="nx-my-2">Les pratiques d&#x27;architecture et les architectures <strong>centralisées</strong> sont inefficaces.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">L’idée de centralisation mène souvent à celle de blocage : que ce soit un thread qui en attend un autre, une requête en DB qui attend qu’un row se libère, ou une équipe qui attend de pouvoir déployer .</li>
<li class="nx-my-2">Les pratiques traditionnelles <strong>bloquent le flow de delivery</strong>. Les équipes doivent attendre les décisions des architectes, qui constituent un bottleneck.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">La raison pour laquelle ce blocage est plus gênant maintenant est que les 5 révolutions du monde du logiciel ont mené à une vitesse de changement bien plus importante qu’avant.</li>
</ul>
</li>
<li class="nx-my-2">Les pratiques traditionnelles <strong>ne permettent pas de récupérer suffisamment de feedback</strong> pour affecter les décisions d’architecture.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Les architectes de type “ivory tower” ne récupèrent pas de feedback de leurs décisions et donc finissent par prendre des décisions bonnes sur le papier, mais mauvaises en pratique.</li>
<li class="nx-my-2">Les architectes “hands on” one moins ce problème, puisqu’ils éprouvent dans une certaine mesure les conséquences de l’implémentation de leur propres décisions d’architecture, mais ils sont alors d’autant plus débordés.</li>
</ul>
</li>
</ul>
</li>
<li class="nx-my-2">La <strong>nouvelle pratique</strong> doit permettre de répondre aux 3 buts de l’architecture : cohérente et cohésive, découplée, et adaptable. Pour ça, elle doit :
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2"><strong>Être décentralisée</strong> pour permettre aux équipes de travailler en parallèle et de réaliser de nombreuses itérations rapides.</li>
<li class="nx-my-2"><strong>Mettre le feedback au cœur de son fonctionnement</strong>, que ce soit pour les architectes ou les équipes.</li>
</ul>
</li>
<li class="nx-my-2">Les pratiques d’architecture <strong>ne peuvent jamais protéger du chaos</strong>, c&#x27;est-à-dire des comportements complexes, imprédictibles et sensibles aux moindres changements propres aux architectures.</li>
<li class="nx-my-2">L’architecture est fondamentalement <strong>incertaine</strong>, parce qu’incorporant de la <strong>variabilité</strong> à tous les niveaux.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Il faut bien prendre l’architecture comme un tout, incluant les systèmes, mais aussi les équipes et leurs interactions, formant un <strong>système sociotechnique</strong>. Cette notion reconnaît la relation entre aspects techniques et aspects sociaux.</li>
<li class="nx-my-2">Il suffit par exemple de prendre ne serait-ce qu’un bout, même simple ou peu important d’un système, et d’en augmenter la latence, pour voir apparaître une complexité qu’on n’imaginait pas.</li>
</ul>
</li>
<li class="nx-my-2">L’architecture a des caractéristiques fondamentalement <strong>émergentes</strong>, c’est-à-dire qu’elles sont absentes dans les parties, et apparaissent quand les parties forment un tout.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Il existe deux types d’émergence :
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">L’<strong>émergence forte</strong> concerne le fait que des parties forment un tout. Par exemple, les voitures composées de leurs parties.</li>
<li class="nx-my-2">L’<strong>émergence faible</strong> n&#x27;apparaît évidente qu’après avoir dû la chercher. On peut la corriger sans difficulté, mais elle apparaîtra quand on pensera avoir pensé à tout.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Exemple : L’auteur raconte qu’il avait mis en place un système d’assignation de tracking number dans le cadre d’un outil autour d’ebay. Ces tracking number augmentaient tous les week ends, parce qu’avec du scaling automatique, et l’augmentation de l’activité des utilisateurs le week end, des requêtes étaient en timeout. Le retry provoquait une demande de nouveau tracking number, laissant l’ancien comme réservé mais non terminé. Malgré le fait que l’équipe ait pensé à tout, ils n’avaient pas envisagé la propriété émergente entre leur système de scaling et le comportement des utilisateurs.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-10 nx-border-b nx-pb-1 nx-text-3xl nx-border-neutral-200/70 contrast-more:nx-border-neutral-400 dark:nx-border-primary-100/10 contrast-more:dark:nx-border-neutral-400">Part I - First Principles<a href="#part-i---first-principles" id="part-i---first-principles" class="subheading-anchor" aria-label="Permalink for this section"></a></h2>
<h3 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-2xl">2 - To Practice Architecture is to Decide<a href="#2---to-practice-architecture-is-to-decide" id="2---to-practice-architecture-is-to-decide" class="subheading-anchor" aria-label="Permalink for this section"></a></h3>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Expérience : fermez les yeux et imaginez une décision d’architecture qui est prise.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Est-ce que c’était vous ou quelqu’un d’autre qui a pris la décision ?</li>
<li class="nx-my-2">La personne qui a pris la décision était hiérarchiquement au-dessus de vous, en dessous de vous, au même niveau ?</li>
<li class="nx-my-2">Quel âge avait-elle par rapport à vous ?</li>
<li class="nx-my-2">Quelles compétences avait-elle par rapport aux vôtres ?</li>
<li class="nx-my-2">Est-ce que c’était une personne seule ou un groupe ?</li>
</ul>
</li>
<li class="nx-my-2">L’architecture est fondamentalement composée de <strong>décisions</strong>.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Les architectures évolutionnaires font que ces décisions sont nombreuses et arrivent en permanence. cf. <strong><em>Building Evolutionary Architectures</em></strong>.</li>
<li class="nx-my-2">Toutes les décisions d’architecture sont des décisions techniques, mais toutes les décisions techniques ne sont pas forcément des décisions d’architecture.</li>
<li class="nx-my-2">Pour définir une <strong>décision d’architecture</strong>, l’auteur met en avant la définition de Michael Nygard dans le blog post <a href="https://cognitect.com/blog/2011/11/15/documenting-architecture-decisions" target="_blank" rel="noreferrer" class="nx-text-primary-600 nx-underline nx-decoration-from-font [text-underline-position:from-font]">Documenting Architecture Decisions<span class="nx-sr-only nx-select-none"> (opens in a new tab)</span></a>, qui dit : “<em>&#x27;architecturally significant&#x27; decisions: those that affect the structure, non-functional characteristics, dependencies, interfaces, or construction technique</em>”.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2"><strong>Structure</strong> : si on change la structure, on change la manière dont les parties sont agencées entre-elles. Ces parties peuvent communiquer via le réseau ou via des appels de fonction.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Exemples : comment séparer un module en plusieurs parties et quelles équipes vont être responsables de chaque partie</li>
</ul>
</li>
<li class="nx-my-2"><strong>Cross-functional characteristics (CFRs)</strong> : les requirements qui ne rentrent pas dans l’aspect fonctionnel tel que décrit dans une user story ou un use-case, par exemple les sujets de sécurité, de performance, de scalabilité, de réglementation, de coûts etc.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">L’auteur conseille le chapitre 6 de <strong><em>User Story Mapping</em></strong> de Jeff Patton, pour une introduction à la notion de user story.</li>
<li class="nx-my-2">Il préfère <em>cross-functional</em> plutôt que <em>non-functional</em> pour éviter de définir par la négation, et aussi parce que ça représente mieux le fait que ces caractéristiques traversent le système.</li>
<li class="nx-my-2">Exemples :
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Le format des logs et les outils qui vont les collecter.</li>
<li class="nx-my-2">La manière dont on va scaler horizontalement notre système.</li>
</ul>
</li>
<li class="nx-my-2">Mauvais exemples :
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Le fait de scaler des déploiements à 3 ou 5 pods.</li>
<li class="nx-my-2">Les paramètres à passer au garbage collector de notre virtual machine.</li>
</ul>
</li>
</ul>
</li>
<li class="nx-my-2"><strong>Dependencies</strong> : il s’agit des éléments avec lesquels notre système interagit et qu’on <strong>ne contrôle pas</strong>. On doit donc faire attention à la manière dont on interagit avec ces éléments. Exemple : librairies ou services externes, plateforme qui fait tourner notre code, service fourni par une autre équipe etc.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Mauvais exemple : quel framework de unit testing ou outils de performance testing on va utiliser (ça n’impactera pas la manière dont on conçoit le système).</li>
</ul>
</li>
<li class="nx-my-2"><strong>Interfaces</strong> : il s’agit des interfaces qu’on expose aux autres. On en a le contrôle, mais chaque modification à ces interfaces aura des conséquences importantes.</li>
<li class="nx-my-2"><strong>Construction techniques</strong> : les techniques avec lesquelles on construit notre système affectent le système lui-même.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Exemples :
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">L’utilisation d’un outil comme LaunchDarkly pour avoir des feature toggles et mettre en prod très vite des features pour certains clients.</li>
<li class="nx-my-2">L’intégration continue nécessite une grenade testabilité.</li>
<li class="nx-my-2">Le TDD nécessite d’isoler la logique métier.</li>
</ul>
</li>
<li class="nx-my-2">Mauvais exemples :
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Quel IDE les développeurs utilisent.</li>
<li class="nx-my-2">Le fait que les développeurs fassent du pair programming.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="nx-my-2">On peut classer les décisions d’architecture en <strong>décisions significatives</strong> et non significatives.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Concernant les 3 critères <em>dependencies</em>, <em>interfaces</em> et <em>construction techniques</em>, les changements significatifs sont en général évidents.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Exemple :
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Une nouvelle dépendance, ou un upgrade majeur pour une dépendance existante.</li>
<li class="nx-my-2">Une nouvelle API qu’on expose, ou un breaking change dans une API exposée existante.</li>
<li class="nx-my-2">Une nouvelle technique de déploiement, comme le canary release, ou le blue-green deployment.</li>
</ul>
</li>
<li class="nx-my-2">Mauvais exemples :
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Un développeur enlève des dépendances inutilisées.</li>
<li class="nx-my-2">Un architecte enlève un paramètre d’une API dont ils ont vérifié auprès des utilisateurs qu’elle n’était pas du tout utilisée.</li>
<li class="nx-my-2">Un ops déploie une plateforme qui permet aux équipes de partager leurs APIs.</li>
</ul>
</li>
</ul>
</li>
<li class="nx-my-2">Concernant la <em>structure</em> et les <em>cross-functional characteristics</em>, c’est plus compliqué de définir s’ils sont significatifs.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Concernant les changements de structure, il s’agira soit de changement d’<strong>endroit où on place une logique clé</strong>, soit du fait de <strong>commencer ou arrêter d’utiliser un design pattern</strong>.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Exemple : des développeurs qui refactorent leur code pour extraire un micro-frontend (nouveau design pattern).</li>
<li class="nx-my-2">Mauvais exemple : des développeurs refactorent leur code pour extraire une méthode privée dans une classe.</li>
</ul>
</li>
<li class="nx-my-2">Concernant les changements de CFRs, il faut d’abord les <strong>définir clairement</strong> avant de pouvoir savoir si elles sont significatives.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">1 - Pour la valeur : “As a [ROLE]…I want to [ACTION]…so that [VALUE].”</li>
<li class="nx-my-2">2 - Pour le critère d’acceptance : “Given [CIRCUMSTANCES]…when [EVENT]…then [OUTCOME].”</li>
<li class="nx-my-2">Exemple :
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">1 - As a customer, I want my search results within 500 milliseconds, So that I can find what I want quickly.</li>
<li class="nx-my-2">2 - Given the site is experiencing normal levels of search requests, When a customer submits a search request, Then the system responds 99% of the time with valid search results within 500 ms.</li>
</ul>
</li>
<li class="nx-my-2">Notre décision sera significative si elle <strong>met en danger le fait de respecter les critères d’acceptation</strong> d’un ou plusieurs autres CFRs.</li>
<li class="nx-my-2">Exemple : un développeur ajoute une API Gateway publique, sans authentification, rate limiting ou autre, juste un pass-through.</li>
<li class="nx-my-2">Mauvais exemple : un développeur refactore du code, enlevant un bottleneck, permettant de doubler le throughput. Aucun critère d’acceptance de CFR n’est en danger, donc ce n’est pas significatif.</li>
</ul>
</li>
</ul>
</li>
<li class="nx-my-2">Des décisions d’architecture peuvent être significatives :
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Peu importe qu’elles aient été prises <strong>par des architectes ou développeurs</strong>.</li>
<li class="nx-my-2">Peu importe qu’elles aient <strong>pris du temps</strong> ou non.</li>
<li class="nx-my-2">Peu importe qu’elles aient même été <strong>délibérées</strong> ou non.</li>
<li class="nx-my-2">Exemple : une développeur qui met à jour une librairie, et met à jour aussi sans faire exprès des dépendances dont une passe en licence GPL contaminante =&gt; c’est un simple développeur, qui a mis peu de temps à décider, et qui ne s’est même pas rendu compte de la décision significative qu’il avait prise.</li>
</ul>
</li>
<li class="nx-my-2">Les décisions ne peuvent être significatives que si elles sont liées à un <strong>système en production</strong>, ou à la partie du système qui permet de mettre le système en production (pipeline CI/CD &amp; co). Tant que la décision n’atteint pas la production, elle ne peut pas être significative.</li>
</ul>
</li>
</ul>
<h3 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-2xl">3 - Decisions at Scale<a href="#3---decisions-at-scale" id="3---decisions-at-scale" class="subheading-anchor" aria-label="Permalink for this section"></a></h3>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">De manière générale, on peut <strong>décomposer le processus de décision</strong> en plusieurs étapes :
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">1 - <strong>On a besoin de prendre une décision</strong>.</li>
<li class="nx-my-2">2 - <strong>On prend la décision</strong>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">2.a - <strong>On crée la liste des options possibles</strong>. Cette étape est particulièrement importante.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">C’est dans cette étape qu’il faut connaître un maximum de patterns d’architecture.</li>
<li class="nx-my-2">C’est aussi à cette étape qu’il faut bien comprendre le problème et le contexte :
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Quelle est la situation ?</li>
<li class="nx-my-2">Qu’est-ce qui a déjà été essayé ?</li>
<li class="nx-my-2">Quelles sont les contraintes ? Est-ce que certaines sont en tension avec d’autres ?</li>
<li class="nx-my-2">Est-ce que ne rien faire est une possibilité ?</li>
</ul>
</li>
</ul>
</li>
<li class="nx-my-2">2.b - <strong>On décide</strong>.</li>
<li class="nx-my-2">2.c - (facultatif) <strong>on communique</strong> sur la décision prise.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Cette étape est souvent oubliée, résultant dans le fait que les personnes qui implémentent ne sont <strong>pas au courant, ou pas d’accord</strong> avec la décision.</li>
</ul>
</li>
</ul>
</li>
<li class="nx-my-2">3 - <strong>La décision est implémentée</strong>.</li>
</ul>
</li>
<li class="nx-my-2">L’étape de <strong>création des options possibles</strong> peut être plus ou moins soignée ou bâclée.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Il y a 3 manières de la faire :
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2"><strong>1 - Le cas nécessitant de l’exploration</strong> : l’étape nécessite de l’effort, on ne peut pas simplement s’appuyer sur des patterns connus et évidents.</li>
<li class="nx-my-2"><strong>2 - La cas où plusieurs options connues existent</strong> : même si les options sont connues, il faut quand même de l’effort pour les expliciter et les mettre en relation les unes avec les autres.</li>
<li class="nx-my-2"><strong>3 - Le cas où on ne considère qu’une option</strong> : parfois parce que la décision n’est pas significative, parfois parce qu’on ne voit pas l’aspect significatif, ou qu’on la prend inconsciemment.</li>
</ul>
</li>
<li class="nx-my-2">Le fait de choisir la manière 1, 2 ou 3 dépend de la décision et de son importance, mais l’auteur remarque que bien souvent on ne consacre pas suffisamment d’importance à la phase de création des options possibles.</li>
<li class="nx-my-2">C’est bien pire pour les équipes de développeurs : bien souvent, ils ne sont pas du tout exposés à cette étape, et ne voient que l’architecte qui prend la décision.</li>
</ul>
</li>
<li class="nx-my-2">Les décisions sont difficiles quand elles concernent <strong>un grand nombre de personnes</strong>. C’est là qu’on doit avoir des <strong>processus de décision</strong> solides.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Les deux critères importants pour l’auteur sont :
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">1 - Est-ce que le pouvoir d’initier la décision est centralisé ou décentralisé ?</li>
<li class="nx-my-2">2 - Quelle est la vitesse à laquelle la procédure permet de définir des options et prendre des décisions ?</li>
</ul>
</li>
<li class="nx-my-2">L’auteur en distingue 6 (elle sont aussi décrites sur <a href="https://thedecider.app/" target="_blank" rel="noreferrer" class="nx-text-primary-600 nx-underline nx-decoration-from-font [text-underline-position:from-font]">thedecider.app<span class="nx-sr-only nx-select-none"> (opens in a new tab)</span></a>) :
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2"><strong>Les procédures centralisées</strong> : une seule personne a le pouvoir de décision, et peut l’utiliser de différentes manières.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">1 - <strong>Autocratic</strong> decision process : une seule personne crée la liste des options et prend la décision. Les autres ne font qu’implémenter.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">La prise de décision peut être très rapide, mais la personne peut aussi se retrouver à être un bottleneck si les décisions à prendre s’empilent.</li>
<li class="nx-my-2">Exemple : un chief architect rejoint une entreprise et prend la décision de passer d’AWS à Azure sans avoir consulté personne.</li>
</ul>
</li>
<li class="nx-my-2">2 - <strong>Delegation</strong> decision process : la personne qui a le pouvoir délègue la décision à une personne, qui va donc lister les options et prendre la décision.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Ça ressemble beaucoup à l’<em>autocratic decision process</em>, à la différence que la décision peut être plus pertinente si on délègue aux personnes les mieux placées.</li>
<li class="nx-my-2">Exemple : le chief architect rejoint l’entreprise, mais ne connaît pas suffisamment AWS et donc délègue la décision au lead infrastructure architect.</li>
</ul>
</li>
<li class="nx-my-2">3 - <strong>Consultative</strong> decision process : la personne qui a le pouvoir consulte d’abord les personnes de son choix, avant de faire la liste des options et prendre la décision.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Ça peut être un peu plus lent que les deux précédentes méthodes, mais on recueille plus de points de vue. Par contre, vu que la personne choisit de consulter qui elle veut, on peut se retrouver avec des experts du sujet qui ne sont pas du tout consultés.</li>
<li class="nx-my-2">Exemple : le chief architect consulte le lead infrastructure, et quelques autres personnes, avant de lister les options et prendre la décision.</li>
</ul>
</li>
</ul>
</li>
<li class="nx-my-2"><strong>Les décisions décentralisées</strong> : le pouvoir de décision est distribué.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">4 - <strong>Consent</strong> decision process : C’est toujours la même personne qui liste les options et prend la décision, mais un groupe large de personnes peuvent bloquer la décision en mettant un véto. S’il y a véto, la personne doit soit faire un autre choix, soit changer la liste des choix possibles.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Les personnes non-décisionnaires peuvent parfois abuser du véto, en le mettant jusqu’à ce que la décision soit celle qu’elles veulent. Donc la décision risque d’être lente.</li>
<li class="nx-my-2">Exemple : le chief architect propose de coder les nouveaux microservices en Java 8 parce que c’est ce qu’il connaît. Sa décision est bloquée par un véto d’une ou plusieurs personnes.</li>
</ul>
</li>
<li class="nx-my-2">5 - <strong>Democratic</strong> decision process : une personne crée la liste des options, mais ensuite le groupe entier vote pour l’option qu’il préfère.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">La décision va vite, mais le risque c’est que la minorité qui perd se retrouve désengagée parce qu’elle pense qu’elle a de bonnes raisons d’être pour une autre option, même si elle est minoritaire.</li>
<li class="nx-my-2">Exemple : le chief architect propose la liste “Java 8, Cobol, Lisp, Rust”, et le groupe choisit. Il reste quand même la question de savoir qui va avoir un droit de vote : juste les tech leads ? l’ensemble des développeurs ? etc.</li>
</ul>
</li>
<li class="nx-my-2">6 - <strong>Consensus</strong> decision process : l’ensemble du groupe participe à l’étape de création des options, et aussi à l’étape de la prise de décision, où on s’assure que tout le monde consent avant de décider.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">On a une bien plus grande implication de chacun, mais la décision risque de prendre beaucoup de temps. Un autre problème peut être le fait d’aller systématiquement vers le choix du plus petit dénominateur commun de compromis : ce n’est pas toujours une bonne chose pour une architecture.</li>
<li class="nx-my-2">Exemple : le chief architect lance le sujet, et les développeurs arrivent à une liste “Kotlin, C#, TypeScript, Rust”, puis discutent jusqu&#x27;à arriver à un accord sur un langage.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="nx-my-2">Quand on classe les procédures selon les deux axes (décentralisation et vitesse de prise de décision), on voit qu’on a soit des procédures décentralisées, soit des procédures rapides.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">On pourrait imaginer le cas “centralisé et lent” avec un autocrate hésitant qui décide seul mais met beaucoup de temps à décider, mais ça n’a aucun intérêt pour nous.</li>
<li class="nx-my-2">L’autre case est par contre beaucoup plus intéressante : est-ce qu’on peut avoir une procédure qui soit <strong>à la fois rapide et décentralisée</strong> ?
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Si on examine les procédures listées :
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Sur l’aspect rapidité, <strong>plus la personne qui décide est autonome dans la décision, et plus la décision est rapide</strong>. Consulter les autres prend peu de temps, mais s’ils ont une voix dans la décision elle-même, ça va la ralentir.</li>
<li class="nx-my-2">Sur l’aspect décentralisation, ce qui compte c’est <strong>le nombre de personnes qui peuvent participer</strong> à la décision, mais aussi <strong>le nombre de personnes qui peuvent l’initier</strong>.</li>
</ul>
</li>
<li class="nx-my-2">Et donc, une procédure qui serait à la fois rapide et décentralisée devrait :
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">1 - Impliquer les bonnes personnes.</li>
<li class="nx-my-2">2 - Laisser un grand nombre de personnes initier une décision et décider.</li>
<li class="nx-my-2">3 - Mettre en avant la confiance pour que chacun s’implique dans les décisions où il a quelque chose à apporter.</li>
<li class="nx-my-2">4 - Minimiser le besoin de communiquer la décision.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-2xl">4 - The Architecture Advice Process<a href="#4---the-architecture-advice-process" id="4---the-architecture-advice-process" class="subheading-anchor" aria-label="Permalink for this section"></a></h3>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">En tant qu’<strong>architecte traditionnel</strong>, l’auteur a été principalement confronté à 3 problèmes (que ce soit en mode hands on ou ivory tower) :
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">1 - Étant donné sa responsabilité sur les décisions, il était sur le chemin critique des équipes, et donc finissait par les bloquer d’une manière ou d’une autre.</li>
<li class="nx-my-2">2 - Il ne pouvait pas être au courant des détails et nuances de l’ensemble des systèmes en place, et finissait par faire des erreurs à cause de ça.</li>
<li class="nx-my-2">3 - Il n’arrivait pas à communiquer efficacement ses décisions, et donc pouvait ne pas les voir implémentées correctement.</li>
</ul>
</li>
<li class="nx-my-2">La notion d’advice process vient initialement du livre <strong><em>The Decision Maker</em></strong> de Dennis Bakke, puis a été popularisé par <strong><em>Reinventing Organizations</em></strong> de Frédéric Laloux.</li>
<li class="nx-my-2">L**’architecture advice process** peut être décrit comme suit : n’importe qui (membre d’une équipe ou personne avec un rôle cross-team) peut prendre une décision (choisir une des options), à condition d’avoir consulté les personnes suivantes durant la phase de création des options :
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">1 - Des personnes affectées par la décision</li>
<li class="nx-my-2">2 - Des personnes qui ont une expertise dans le domaine dans lequel la décision est prise.</li>
</ul>
</li>
<li class="nx-my-2">L’<em>advice process</em> peut être vu comme un <strong>contrat social</strong> : on a <strong>confiance</strong> dans le fait que les autres, quand ils prendront des décisions, écouteront les perspectives des bonnes personnes. Et on promet nous-mêmes de faire de même.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Cette confiance s’établit entre celui qui décide (une personne, ou une équipe représentée par un membre de l’équipe), et ceux qui subissent la décision, avec dans l’idée que les rôles vont s’inverser régulièrement.</li>
</ul>
</li>
<li class="nx-my-2">L’advice process est <strong>à la fois rapide et décentralisé</strong>.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Il est <strong>rapide</strong> :
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Le nombre de personnes qui participent à l’étape de prise de décision est de 1. Le nombre de personnes qui peuvent mettre un véto est de 0.</li>
<li class="nx-my-2">Il se retrouve légèrement plus rapide que le <em>consultative process</em> parce que la décision va être prise par ceux qui en ont le besoin direct, et donc ils seront pressés de la prendre pour avancer.</li>
<li class="nx-my-2">Concernant les personnes consultées :
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Les équipes vont naturellement chercher à minimiser leur nombre, ce qui va les forcer à construire des systèmes bien délimités.</li>
<li class="nx-my-2">Le rapport aux experts est aussi différent : puisqu’il n’y a plus besoin de les convaincre, on est purement sur du partage de connaissances.</li>
<li class="nx-my-2">Puisque les personnes concernées sont déjà mises au courant du sujet au moment de la consultation, il n’y a plus besoin de faire de grands efforts pour la phase de partage de la décision.</li>
</ul>
</li>
</ul>
</li>
<li class="nx-my-2">Il est <strong>décentralisé</strong>. Si on reprend la définition qu’on se donne de décentralisé : plus il y a de personnes qui peuvent initier et participer aux décisions, plus la procédure est décentralisée.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Il offre une <strong>décentralisation maximale sur la question de qui peut prendre une décision</strong> : n’importe qui qui en ressent le besoin.</li>
<li class="nx-my-2">En revanche, il est moins décentralisé que le <em>consensus process</em> parce qu’il n’implique pas tout le monde tout le temps.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Il gagne donc sur la rapidité, mais aussi sur la responsabilisation, puisqu’il y a une personne qui porte la décision, là où avec le <em>consensus process</em> la responsabilité diluée entre tous.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="nx-my-2"><strong>Story 1</strong> : une équipe de développeurs décide d’utiliser les release toggles.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">On a une équipe dont le PM pousse à livrer les features par des incréments de plus en plus petits dans les mains du client, et certains membres ayant lu <strong><em>Accelerate</em></strong>, veulent expérimenter le trunk based development.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">L’équipe constate qu’il lui faut une manière de cacher les fonctionnalités non terminées : une forme de release toggles.</li>
<li class="nx-my-2">Connaissant bien les tenants et aboutissants de son système, de son contexte, ses compétences etc. l’équipe réfléchit et tombe sur une première solution : <strong>implémenter des checks booléens dans le code</strong> pour cacher les features non terminées.</li>
</ul>
</li>
<li class="nx-my-2">Ils décident alors d’aller demander des conseils, <strong>d’abord aux autres équipes qui pourraient être affectées par cette décision</strong>. Pour les trouver ils se sont posé des questions du genre : quelles équipes devront faire du travail supplémentaire du fait de notre décision ?
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Le retour principal des équipes concernées est une inquiétude sur leur capacité à tester contre un service qui leur est caché, mais qu’ils auraient besoin de de pouvoir requêter.</li>
<li class="nx-my-2">L’équipe initiale n’a pas pu y penser parce qu’il n’est pas si facile que ça de se mettre à la place des autres pour prendre leur perspective. C’est pour ça qu’on leur demande directement.</li>
</ul>
</li>
<li class="nx-my-2">Ils décident ensuite de demander des conseils aux personnes ayant <strong>une expertise sur le sujet</strong>. Il s’agit de personnes qui ont de l’expérience sur le sujet, ou une vision plus large du système ou dans le temps.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Ils vont en parler à Fiona la systems architect, à JB le lead QA, et à Monira, une autre PM dont ils savent qu’elle a eu une expérience avec les release toggles.</li>
<li class="nx-my-2">Fiona un article sur les feature toggles, et leur parle de sa propre expérience, et mentionne notamment le fait qu’il faut que chaque feature toggle soit conçue comme temporaire, avec des mécanismes qui rappelleront de l’enlever pour éviter qu’elle traîne. Elle leur conseille aussi d’en parler avec Yinka, le lead infrastructure pour les histoires d’environnements, de permissions.</li>
<li class="nx-my-2">JB leur parle de la testabilité qui devient un peu plus lourde : par exemple il faut bien penser à tester les features avec le toggle désactivé, et activé.</li>
<li class="nx-my-2">Yinka leur conseille de plutôt passer par des variables d’environnement pour éviter de devoir repasser par la CI et redéployer tout le code juste pour activer/désactiver des toggles.</li>
<li class="nx-my-2">Monira leur dit qu’elle est plutôt d’accord avec les conseils précédents, et ajoute que les variables d’environnement pourraient permettre de faire des démos rapides à un PM ou à un client, sans prendre trop de temps à l’équipe.</li>
</ul>
</li>
<li class="nx-my-2"><strong>L’équipe décide</strong> de suivre le conseil de Yinka pour utiliser les environment variables (qui va aussi arranger les équipes affectées pour leurs tests qui seront plus faciles), et celui de Fiona de tracker les feature toggles, qu’ils choisissent de faire dans Jira pour donner de la visibilité aussi à leur PM (conseil de Monira).</li>
<li class="nx-my-2">Finalement ils reviennent vers les différentes parties prenantes pour leur <strong>annoncer leur décision</strong> : c’est plutôt facile puisque ces personnes ont globalement déjà en tête le contexte.</li>
<li class="nx-my-2">Dans cet exemple, le décision taker et l’option maker est le même : l’équipe qui a ressenti le besoin de ce changement d’architecture.</li>
<li class="nx-my-2">Cette expérience a non seulement permis d’<strong>avoir une solution meilleure</strong> que si l’équipe avait décidé sans advice process, mais aussi a permis à l’équipe :
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">D’en apprendre beaucoup sur le sujet des feature toggles.</li>
<li class="nx-my-2">De mieux comprendre le point de vue des personnes avec des rôles spécifiques (architecte, QA, spécialiste infra etc.).</li>
<li class="nx-my-2">De <strong>tisser un réseau au sein de l’entreprise</strong>, qu’elle renforcera d’autant plus à chaque fois qu’elle aura des décisions à prendre en advice process.</li>
</ul>
</li>
</ul>
</li>
<li class="nx-my-2"><strong>Story 2</strong> : un architecte décide de démêler un problème de workflow.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">La majorité des décisions d’architecture se traitent plutôt comme la Story 1, mais certaines décisions portent sur une problématique qui impacte un <strong>système comprenant plusieurs équipes</strong>. Les personnes les mieux placées pour repérer et traiter ce genre de problématiques sont les personnes qui ont un rôle plus large, comme les architectes.</li>
<li class="nx-my-2">Dans le cadre d’un produit mature, il y a un microservice qui devient petit à petit un bottleneck de delivery et de performance.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Initialement, il servait à externaliser la logique de workflow du parcours utilisateur d’une équipe pour pouvoir y faire des changements sans mettre à jour l’app mobile. Puis comme il fonctionnait bien, d’autres équipes y ont ajouté leur logique, et ainsi de suite.</li>
<li class="nx-my-2">Depuis quelque temps, les architectes ont repéré que ce microservice était l’objet de nombreux problèmes. A la fois des bugs difficiles à reproduire, et aussi du <strong>work coupling</strong> : certaines équipes attendent que l’équipe owner du microservice de workflow fasse des modifications pour eux.</li>
</ul>
</li>
<li class="nx-my-2">Un architecte système décide de sonder les <strong>équipes concernées</strong> utilisant le service de workflow pour comprendre ce qu’il fait, et quels sont les besoins de ces équipes.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Il remarque que le code est plutôt de bonne qualité, bien testé etc. mais que le microservice fait beaucoup de choses, principalement 3 patterns :
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">1 - En tant que service de workflow, dirigeant les utilisateurs vers des étapes dont le code était ailleurs.</li>
<li class="nx-my-2">2 - Le code de certaines étapes devenait dupliqué entre Swift et Kotlin, et donc ces équipes ont décidé de le migrer vers le service de workflow commun, tout en respectant le fait qu’il reste stateless, c’est-à-dire qu’on lui passe l’état et qu’il ne persiste rien. Ils l’ont fait pour éviter la duplication, ce qui est louable.</li>
<li class="nx-my-2">3 - Certaines équipes avaient construit un système de persistance par dessus le service de workflow pour le rendre indirectement stateful. Ils l’ont fait essentiellement pour des raisons de performance.</li>
</ul>
</li>
</ul>
</li>
<li class="nx-my-2">Il va ensuite parler aux <strong>personnes expertes de ce sujet</strong>.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">D’abord à Cassie, qui est experte mobile. Elle lui dit que ce genre de problème est régulier dans le monde mobile étant donné la nature des déploiements. Elle conseille :
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">De prendre en compte l’ensemble des besoins des équipes.</li>
<li class="nx-my-2">De les adresser individuellement.</li>
<li class="nx-my-2">De laisser certains problèmes de côté, en demandant aux équipes de simplifier leur implémentation et chercher une solution tierce ou open source de remplacement.</li>
</ul>
</li>
<li class="nx-my-2">Ensuite il parle à Patricia, dev mobile senior récemment embauchée, et venant d’une entreprise qui avait notoirement le même genre de problèmes. Elle raconte les solutions qu’ils avaient mis en place et discute des avantages et inconvénients de certains outils, notamment Kotlin Multiplatform qui permet de mettre en commun du code Android &amp; IOS.</li>
<li class="nx-my-2">Enfin, il parle à des personnes connaissant des systèmes de workflow similaires : Gayathri, un ancien dev qui se souvient de l’enterprise service bus qui existait autrefois, et Isha, un QA qui a travaillé sur un système de workflow à base d’Apache Camel. Les deux donnent des pistes.</li>
</ul>
</li>
<li class="nx-my-2">L’architecte va alors prendre sa décision :
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">1 - Des refactorings pour encourager les utilisations stateless et rendre plus difficiles les autres utilisations, et le fait d’adopter un fonctionnement <em>inner source</em> pour le microservice, c’est-à-dire comme de l’open source mais en interne.</li>
<li class="nx-my-2">2 - Identifier un élément de logique partagé entre Android et IOS, et qui s’est retrouvé dans le service de workflow, et le réimplémenter en Kotlin Multiplatform pour le garder côté code mobile plutôt que dans le backend.</li>
<li class="nx-my-2">3 - Refactorer les utilisations stateful pour les rendre stateless. Chercher des solutions pour régler les problèmes de performance, notamment autour de real time databases for mobile, et backends for frontends.</li>
</ul>
</li>
<li class="nx-my-2">Avant de prendre sa décision, l’architecte invite l’ensemble des équipes concernées et leur présente un draft de la décision, pour prendre des feedbacks, notamment sur la manière d’implémenter les choses.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Et finalement l’implémentation se fait petit à petit par les équipes concernées qui ont bien compris l’intérêt du changement.</li>
</ul>
</li>
<li class="nx-my-2">Cette story montre que même pour les décisions avec un large impact, les personnes qui les prennent doivent <strong>au minimum écouter les parties prenantes</strong> et s’appuyer sur elles.</li>
</ul>
</li>
<li class="nx-my-2">Pour l’auteur, les notions d’<strong>opinion</strong> et d’<strong>advice</strong> sont des <em>near ennemies</em>.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2"><em>near ennemies</em> veut dire que l’un est en quelque sorte la contrefaçon de l’autre. Par exemple :
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Une équipe DevOps est un <em>near ennemy</em> du mindset DevOps : avoir une équipe distincte est contraire à l’idée fondamentale du DevOps qui est de casser le silo entre Dev et Ops.</li>
<li class="nx-my-2">Une transformation agile imposée par le haut est un <em>near ennemy</em> des équipes agiles : le manifeste parle de laisser les équipes s’auto-organiser en les soutenant, ce qui est le contraire d’imposer une transformation.</li>
<li class="nx-my-2">L’auteur a fait <a href="https://www.youtube.com/watch?v=4yr130f-1FE" target="_blank" rel="noreferrer" class="nx-text-primary-600 nx-underline nx-decoration-from-font [text-underline-position:from-font]">une présentation d’une liste de near ennemies du DDD<span class="nx-sr-only nx-select-none"> (opens in a new tab)</span></a>.</li>
</ul>
</li>
<li class="nx-my-2">L’opinion donne une direction mais c’est tout, là où l’advice va donner la direction, mais aussi <strong>expliquer les raisons sous-jacentes de pourquoi</strong> cette direction, et l’<strong>étayer avec des faits, de l’expérience</strong>.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Exemple d’advice : <em>I would use this build because not only does it have licensing terms appropriate to our company’s standards but also because their releases always keep up with the upstream OpenJDK from Oracle, and they have a great wiki as well as an active community who responded rapidly to us when we asked them for help on a weird issue we had</em>.</li>
<li class="nx-my-2">Exemple d’opinion : <em>I would use this OpenJDK build because it works better. It’s faster, cheaper, and higher quality.</em></li>
<li class="nx-my-2">Quand on a une opinion en face de nous, on peut tenter d’en tirer un advice en posant des questions du type “Pourquoi ?”, “Comment ?”.</li>
<li class="nx-my-2">L’architecture consiste souvent en un <strong>it depends on</strong>, et l’advice donne justement la suite du “on”.</li>
</ul>
</li>
<li class="nx-my-2">Certains architectes qui avaient l’habitude de tout décider, risquent dans un premier temps (consciemment ou non) de donner plus souvent des opinions que des advices.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">C’est une dynamique qui ne devraient pas durer parce que le fait que la personne qui pose la question est celle qui sera accountable, fait qu’à la fois elle a tout intérêt à aller chercher les advices, et à la fois les autres ont tout intérêt à les donner pour que la décision soit la bonne.</li>
</ul>
</li>
</ul>
</li>
<li class="nx-my-2">L’advice process se base sur les <strong>conversations</strong>, et notamment que les conversations qui sont nécessaires aient lieu.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Le fait de se concentrer sur les conversations dans le cadre de décisions décentralisées fait qu’on se rapproche de la notion d&#x27;<strong>anarchie</strong>.</li>
<li class="nx-my-2">Pour que ça fonctionne, il faut que chaque partie se fasse <strong>confiance</strong>. Même si dans les systèmes traditionnels on constate généralement une confiance diminue dès qu’on dépasse le cercle de l’équipe, selon l’auteur, l’advice process permet de maintenir une confiance à plus large échelle.</li>
</ul>
</li>
</ul>
<h3 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-2xl">5 - Rolling Out the Architecture Advice Process<a href="#5---rolling-out-the-architecture-advice-process" id="5---rolling-out-the-architecture-advice-process" class="subheading-anchor" aria-label="Permalink for this section"></a></h3>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Pour mettre en place l’advice process, la procédure dépend des pouvoirs de prise de décision qu’on a :
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2"><strong>Si on a déjà des pouvoirs de prise de décision</strong> (par exemple si on est architecte), on peut directement appliquer l’advice process soi-même. A chaque fois qu’il faut prendre une décision, on interroge les personnes concernées et expertes, <strong>en leur disant bien qu’on le fait dans le cadre d’un advice process</strong>. Ensuite on prend la décision, et on retourne voir les parties prenantes pour la leur communiquer.</li>
<li class="nx-my-2"><strong>Si on manque de pouvoir de prise de décision</strong> (par exemple membre d’une équipe de développement), on peut quand même commencer à appliquer l’advice process, en <strong>indiquant bien à toutes les parties prenantes ce qu’on fait</strong>. La différence c’est qu’on prend <strong>une pseudo-décision</strong>, qu’on donne au vrai décisionnaire à la fin. Le but est de le convaincre que notre équipe est capable de prendre de bonnes décisions de cette manière.</li>
<li class="nx-my-2"><strong>Si on a la capacité à décider de la manière dont on décide</strong> (CTO ou assimilé), on peut mettre en place une <strong>expérimentation à petite échelle</strong> : on prend quelques équipes (pas plus de 3) volontaires et un architecte, et on leur explique l’advice process à expérimenter pendant 3 mois. Une fois que c’est fait, on fait une rétrospective, et on voit ce qu’il faut corriger, et si on peut étendre à plus d’équipes.</li>
</ul>
</li>
<li class="nx-my-2">L’auteur identifie <strong>4 problèmes principaux</strong> qu’on rencontre en mettant en place l’advice process :
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2"><strong>1 - Une mauvaise compréhension de l’advice process</strong>.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Il faut expliquer dès le départ l’advice process aux personnes qui participent à l’expérimentation, par exemple avec une présentation suivie de questions.</li>
<li class="nx-my-2">Il faut insister sur les points principaux, notamment les étapes de la procédure, les rôles des personnes, et le <strong>shift d’accountability</strong>.</li>
</ul>
</li>
<li class="nx-my-2"><strong>2 - Les bonnes personnes ne sont pas consultées pour donner l’advice</strong>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Ce problème concerne en général les développeurs qui ne savent pas vraiment à qui parler, plutôt que les architectes qui ont déjà l’habitude d’aller consulter les bonnes personnes.</li>
<li class="nx-my-2">La première chose à faire pour les équipes de développeurs est de demander un advice à l’architecte, notamment pour lui demander ensuite qui d’autre serait pertinent pour donner un advice sur ce sujet.</li>
<li class="nx-my-2">Une bonne pratique est de construire petit à petit une liste indiquant les personnes compétentes sur des sujets spécifiques. Par exemple pour “information security”, pour “personally identifiable information”, pour “user onboarding flow” etc.</li>
<li class="nx-my-2">Parfois la liste de personnes à consulter est énorme : c’est pas grave, il faut les consulter quand même. Ça peut pousser à diviser la grande décision en plus petites, ou reconsidérer l’intérêt de prendre une décision sur ce sujet.</li>
</ul>
</li>
<li class="nx-my-2"><strong>3 - On oublie de demander “Pourquoi ?” lors de l’advice et on passe à côté d’informations essentielles</strong>.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Attention aux supérieurs hiérarchiques à qui on demande un advice : ils risquent de se cantonner à l’opinion, ou à une direction à suivre. Il faut alors leur demander le pourquoi de leur opinion, et leur rappeler que c’est nous qui sommes accountable.</li>
<li class="nx-my-2">Il faut aussi chercher des advice auprès des personnes avec des points de vues différents du nôtre. Ca ne pourra qu’enrichir notre perspective, et rendre notre décision plus solide.</li>
</ul>
</li>
<li class="nx-my-2"><strong>4 - Un manque de clarté sur le shift d’accountability.</strong>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Généralement la crainte qui vient en tête des personnes à qui on parle d’advice process c’est qu’une personne prenne une décision qui ne l’arrange qu’elle, contre tous les advices. Ça révèle que le shift d’accountability n’a pas clairement été compris.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Le décideur a l’accountability de la décision (il en subira les conséquences), et donc il a tout intérêt à aller chercher les advices et bien les comprendre pour prendre la meilleure décision possible.</li>
</ul>
</li>
<li class="nx-my-2">On peut imaginer 3 cas où la personne va contre l’ensemble des advices :
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">1 - Un manque de compréhension du décideur : dans ce cas l’advice process l’aide puisqu’il est poussé à aller chercher les advices.</li>
<li class="nx-my-2">2 - Un insight unique que seule le décideur a : dans ce cas l’advice process lui permet de le communiquer à ceux à qui il va parler.</li>
<li class="nx-my-2">3 - De mauvaises intentions : l’auteur n’a jamais vu ce cas, mais si ça arrive il s’agit d’un problème de management, et en dernier ressort la personne n’est peut être pas à sa place dans l’organisation.</li>
</ul>
</li>
<li class="nx-my-2">Dans le cas où une personne n’est pas prête à assumer l’accountability d’une décision, elle peut toujours proposer à quelqu’un d’autre s’il est prêt à porter la décision. La personne initiale pourra peut être apprendre en voyant l’autre faire, et porter une autre décision la prochaine fois.</li>
</ul>
</li>
</ul>
</li>
<li class="nx-my-2">Les personnes exposées à l’idée d’advice process ont souvent un <strong>manque de confiance</strong> lié à plusieurs points :
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Manque de confiance dans sa <strong>capacité à décider</strong>, ou la capacité à décider des autres.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">C’est normal, les personnes qui n’ont pas l’habitude de prendre des décisions d’architecture vont devoir l’apprendre. C’est une compétence qui s’améliore par la pratique.</li>
<li class="nx-my-2">Un élément qui peut aider est un endroit où chacun recevrait de l’aide pour pratiquer l’advice process, en voyant les autres respecter les étapes, et en le faisant soi-même.</li>
</ul>
</li>
<li class="nx-my-2">Manque de confiance sur <strong>les advices réellement demandés et donnés</strong>.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Pour aider à construire sur ce point, on peut mettre en place un mécanisme de <strong>transparence</strong> qui liste les advices donnés et les personnes consultées.</li>
</ul>
</li>
<li class="nx-my-2">Manque de confiance lié au fait de <strong>ne pas savoir tout ce qui se passe</strong>.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Il n’y a pas de centre de la décision, et donc on ne peut parler à personne qui ne sache tout ce qui est en cours d’un point de vue architecture.</li>
<li class="nx-my-2">Malgré tout, il serait bon de pouvoir facilement trouver tout ce qu’il faut à propos d’une décision donnée.</li>
</ul>
</li>
<li class="nx-my-2">Ces trois manques de confiance peuvent être <strong>mitigés par la mise en place des ADRs</strong>.</li>
</ul>
</li>
</ul>
<h3 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-2xl">6 - Architectural Decision Records<a href="#6---architectural-decision-records" id="6---architectural-decision-records" class="subheading-anchor" aria-label="Permalink for this section"></a></h3>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">L’auteur considère l’ADR comme outil minimal pour accompagner l’introduction de l’architecture advice process.</li>
<li class="nx-my-2">L’ADR va cadrer <strong>l’ensemble des 3 étapes du processus de décision</strong> : <em>option making</em>, <em>decision taking</em> et <em>decision sharing</em>.</li>
<li class="nx-my-2">Historiquement, l’ADR :
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Date de 2005 dans un papier de Jeff Tyree.</li>
<li class="nx-my-2">A été popularisé par <a href="https://oreil.ly/YKQ7r" target="_blank" rel="noreferrer" class="nx-text-primary-600 nx-underline nx-decoration-from-font [text-underline-position:from-font]">un blog post<span class="nx-sr-only nx-select-none"> (opens in a new tab)</span></a> de Michael Nygard.</li>
<li class="nx-my-2">Est détaillé <a href="https://adr.github.io" target="_blank" rel="noreferrer" class="nx-text-primary-600 nx-underline nx-decoration-from-font [text-underline-position:from-font]">sur un site de référence<span class="nx-sr-only nx-select-none"> (opens in a new tab)</span></a>.</li>
<li class="nx-my-2">A un chapitre consacré dans <strong><em>Fundamentals of Software Architecture</em></strong>.</li>
</ul>
</li>
<li class="nx-my-2">Les ADRs ont en général un contenu texte d’environ <strong>2 pages</strong>, et sont <strong>immutables</strong>, c’est-à-dire que si on veut changer une décision, il faut refaire un ADR.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Ils sont écrits <strong>de manière à en faciliter la lecture, au détriment de l’écriture</strong>.</li>
</ul>
</li>
<li class="nx-my-2">Un ADR complet est <strong>structuré de cette manière</strong> :
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2"><strong>Le titre</strong> doit être suffisamment descriptif pour comprendre la décision sans ouvrir l’ADR. Il doit donc être changé une fois la décision prise pour <strong>inclure la décision</strong>.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Exemple : <em>ADR002—Shorten Inventory IDs with Nano ID</em></li>
</ul>
</li>
<li class="nx-my-2"><strong>Les metadata</strong> :
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2"><strong>L’identifiant</strong> permet de se référer à l’ADR sans aucune ambiguïté.</li>
<li class="nx-my-2"><strong>Le statut</strong> permet de savoir où en est l’ADR.</li>
<li class="nx-my-2"><strong>La date</strong> permet de savoir quand est-ce que le statut a évolué pour la dernière fois (sachant qu’une fois <em>Accepted</em>, il ne peut plus changer).</li>
<li class="nx-my-2">L’auteur est la personne (ou l’équipe si une équipe entière s’en charge) qui est responsable de prendre la décision.</li>
</ul>
</li>
<li class="nx-my-2"><strong>La décision</strong> indique l’option choisie, et la décrit brièvement. Elle n’indique pas le contexte, les avantages et inconvénients ou les autres options possibles.</li>
<li class="nx-my-2"><strong>Le contexte</strong> permet de savoir pourquoi la décision est importante, et les aspects principaux qu’avait l’auteur en tête au moment de l’ADR.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Il est en dessous de la décision parce que pour le lecteur la décision est plus importante à connaître immédiatement.</li>
</ul>
</li>
<li class="nx-my-2"><strong>Les options</strong> représentent les possibilités considérées.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">On met <strong>en premier celle qui est sélectionnée</strong> par le décideur pour faciliter la vie des lecteurs.</li>
<li class="nx-my-2">Les options <strong>sont juste listées</strong> pour pouvoir les avoir sous les yeux toutes en même temps, les conséquences sont détaillées en dessous. On peut aussi faire la version où les conséquences sont détaillées pour chaque option, mais l’auteur préfère les séparer pour aider le lecteur de l’ADR.</li>
<li class="nx-my-2">Exemple :
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">
<ol class="nx-mt-6 nx-list-decimal first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">(SELECTED) A4VHAOFG: Random generated letters and numbers with Nano ID</li>
</ol>
</li>
<li class="nx-my-2">
<ol class="nx-mt-6 nx-list-decimal first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6" start="2">
<li class="nx-my-2">123456: Automatically generated sequence ID</li>
</ol>
</li>
<li class="nx-my-2">
<ol class="nx-mt-6 nx-list-decimal first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6" start="3">
<li class="nx-my-2">Canvas: Manually generated ID</li>
</ol>
</li>
</ul>
</li>
</ul>
</li>
<li class="nx-my-2"><strong>Les conséquences</strong> indiquent pourquoi chaque option a été choisie ou rejetée.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Pour l’option sélectionnée, on va laisser les avantages “Selected because…” et les inconvénients “Selected despite…”.</li>
<li class="nx-my-2">Pour les autres options, on peut se restreindre aux désavantages pour lesquels on ne les a pas sélectionnés. Parfois, on peut vouloir mettre aussi les avantages.</li>
</ul>
</li>
<li class="nx-my-2"><strong>Les advices</strong> contiennent chaque advice récolté par le décideur, <strong>avec le nom</strong> de la personne qui a donné l’advice, et <strong>la date</strong> de l’advice.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Cette section est un ajout à la structure habituelle des ADRs, pour qu’ils servent de socle à l’advice process.</li>
</ul>
</li>
</ul>
</li>
<li class="nx-my-2">L’ADR sert aussi de <strong>support pour aider dans le processus de décision</strong> :
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2"><strong>Étape 1 : on crée l’ADR vide, et on remplit les metadata.</strong>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2"><a href="https://github.com/andrewharmellaw/facilitating-software-architecture/blob/main/adr/adr-template.md" target="_blank" rel="noreferrer" class="nx-text-primary-600 nx-underline nx-decoration-from-font [text-underline-position:from-font]">Un template fait par l’auteur est dispo ici<span class="nx-sr-only nx-select-none"> (opens in a new tab)</span></a>.</li>
<li class="nx-my-2">Le titre n’a pas beaucoup d’importance à ce stade, il sera de toute façon changé très bientôt.</li>
</ul>
</li>
<li class="nx-my-2"><strong>Étape 2 : on remplit le contexte.</strong>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">On cherche les choses à mettre <strong>après le “on” de “it depends on”</strong>. Le but est de comprendre l’espace du problème.</li>
<li class="nx-my-2">Pour l’auteur, les sections <em>Contexte</em> et <em>Consequences</em> sont les deux plus importantes pour aider à la prise de décision.</li>
<li class="nx-my-2">On écrit ce qui nous passe par la tête, puis on met en forme en ayant en tête les potentiels advisers comme cible.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">D’ailleurs si des advisers nous viennent en tête, il faut noter leur noms pour ne pas oublier de leur parler.</li>
</ul>
</li>
<li class="nx-my-2">On peut aussi ajouter un schéma pour expliciter le contexte, sans passer trop de temps dessus à ce stade.</li>
</ul>
</li>
<li class="nx-my-2"><strong>Étape 3 : on liste les options et leurs conséquences.</strong>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">On commence par la partie conséquences : on écrit les conséquences pour les options qu’on a déjà en tête, sans oublier d’envisager l’option “ne rien faire”. Le but est de d’éclairer les raisons d’envisager chacune des options dans notre contexte.</li>
<li class="nx-my-2">Idéalement il faudrait se retrouver avec 3 à 5 options, 2 étant un minimum.</li>
<li class="nx-my-2">On continue à raffiner les conséquences de nos options tout au long du processus de décision. On peut aussi ajouter des schémas pour les représenter plus clairement.</li>
</ul>
</li>
<li class="nx-my-2"><strong>Étape 4 (optionnel) : pré-sélectionner une option</strong>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Si on pense qu’une des options est préférable à ce stade, on peut la pré-sélectionner, et changer le statut de l’ADR de “Draft” à “Proposed”.</li>
<li class="nx-my-2">Cette étape est <strong>optionnelle.</strong>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Pré-sélectionner une option avant d’aller demander des advices a l’avantage de leur <strong>indiquer dans quelle direction on s&#x27;apprête à aller</strong>, pour qu’ils concentrent plus d’attention à éventuellement critiquer cette option.</li>
<li class="nx-my-2">Mais ça peut aussi avoir <strong>l’inconvénient de les influencer, en particulier si on a une position d’autorité</strong>.</li>
</ul>
</li>
</ul>
</li>
<li class="nx-my-2">La suite est d’aller voir les personnes qui vont donner des advices.</li>
</ul>
</li>
<li class="nx-my-2"><strong>Étape 5 : on va chercher les advices, et on met à jour l’ADR.</strong>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Conseils généraux :
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">On peut solliciter des advices <strong>tôt dans le processus de décision</strong>, dès qu’on a un début de draft de la section <em>Contexte</em>. Dans ce cas, on demande de l’aide pour construire le contexte et les options.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">C’est ce qu’avait fait l’architecte dans la Story 2 : il était allé voir les équipes concernées pour voir l’usage de chacune du module de workflow.</li>
</ul>
</li>
<li class="nx-my-2">On peut solliciter des advices <strong>tardivement</strong>, une fois qu’on a affiné nos options et conséquences, et qu’on en a pré-sélectionné une.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">C’est ce qu’avait fait l’équipe dans la Story 1 : ils avaient pré-sélectionné l’option des toggles dans le code, avant d’aller voir les autres équipes qui leur ont dit qu’en fait ça avait un impact sur eux.</li>
</ul>
</li>
<li class="nx-my-2">Les advices doivent porter sur <strong>l’ensemble des parties de la décision</strong>.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Il faut bien le <strong>préciser explicitement aux personnes à qui on demande des advices</strong>, en particulier si on leur demande tardivement sur un ADR déjà bien rempli.</li>
<li class="nx-my-2">Les advices peuvent :
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Ajouter des options.</li>
<li class="nx-my-2">Améliorer la section <em>Context.</em></li>
<li class="nx-my-2">Donner des insights supplémentaires sur les conséquences positives et négatives des options.</li>
<li class="nx-my-2">Amener à scinder la décision en plusieurs décisions.</li>
</ul>
</li>
</ul>
</li>
<li class="nx-my-2">Si nécessaire, on peut retourner voir une personne qui nous a déjà donné un advice pour creuser quelque chose qu’on n’avait pas en tête à ce moment-là.</li>
</ul>
</li>
<li class="nx-my-2">Avant d’aller chercher les advices, on <strong>établit une liste de personnes</strong> qu’on pense être celles impactées par la décision, et celles qui sont expertes du domaine. On met cette liste dans la section <em>Advices</em> de l’ADR.</li>
<li class="nx-my-2">On peut ensuite <strong>mettre en place des meetings</strong> avec chaque personne.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Avant le meeting, on lui met à disposition l’ADR tel qu’il est actuellement, pour que la conversation puisse être plus efficace.</li>
<li class="nx-my-2">Pendant le meeting, on prend des notes sur les advices que la personne donne, dans la section <em>Advices</em> de l’ADR.</li>
<li class="nx-my-2">Après le meeting, on met en forme les notes, et on demande à la personne de les relire après coup, pour être sûr qu’il s’agit bien de <strong>son advice clair et complet</strong>, et d’ajouter ce qu’il faut sinon.</li>
</ul>
</li>
<li class="nx-my-2">A chaque fois qu’on a fait un meeting avec une personne, on repasse sur l’ADR pour mettre le <strong>mettre à jour si nécessaire</strong> au regard des advices données.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">On ajoute les éléments supplémentaires, comme par exemple des options nouvelles, <strong>même si on est en désaccord avec celles-ci</strong>, ou des avantages ou inconvénients supplémentaires pour certaines options.</li>
<li class="nx-my-2">On peut clarifier certaines parties si elles avaient été mal comprises par la personne donnant l’advice.</li>
<li class="nx-my-2">On peut indiquer dans le texte de l’ADR quand il y a des advices qui vont à l’encontre de notre avis et qu’on choisit de ne pas suivre.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">TODO : technique montrée plus tard ?</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="nx-my-2"><strong>Étape 6 : on prend la décision, et on complète l’ADR.</strong>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">On met à jour les options et les conséquences en fonction de l’option choisie :
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">On rédige la section <em>Options</em> qui liste les options, avec l’option sélectionnée en 1er.</li>
<li class="nx-my-2">On déplace les conséquences de l’option sélectionnée en haut de la section <em>Consequences</em>, en l’indiquant comme sélectionnée.</li>
<li class="nx-my-2">On reformule les upsides et downsides pour l’option sélectionnée en “Selected because…” et “Selected despite…”, et pareil pour les options non sélectionnées “Rejected because…” et “Rejected despite…”.</li>
</ul>
</li>
<li class="nx-my-2">On remplit la section <em>Decision</em>, et on change le titre pour refléter l’option choisie.</li>
<li class="nx-my-2">On change le statut à “Accepted” et on met à jour la date.</li>
</ul>
</li>
<li class="nx-my-2"><strong>Étape 7 : on partage la décision</strong>, en partageant l’ADR avec tous ceux qui sont concernés ou qui ont contribué.</li>
<li class="nx-my-2">Concernant les statuts des ADRs :
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Il y a les statuts classiques : <em>Draft</em>, <em>Proposed</em>, <em>Accepted</em>, <em>Superseded</em>.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Superseded est utile quand une décision est en partie invalidée par une décision ultérieure.</li>
</ul>
</li>
<li class="nx-my-2">On peut aussi ajouter des statuts non standards qui peuvent parfois être utiles :
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2"><em>Expired</em> : pour faire un ADR explicitement timeboxé, et qu’il faut revisiter à un certain moment parce qu’il expire.</li>
<li class="nx-my-2"><em>Retired</em> : dans le cas où un produit est retiré de la circulation, l’ADR le concernant peut être considéré comme retiré de la circulation aussi.</li>
<li class="nx-my-2"><em>Rejected</em> : pour l’auteur n’est pas utile. Soit c’est <em>Accepted</em> avec la décision de ne rien faire, soit Superseded par un autre ADR si on change la décision.</li>
</ul>
</li>
</ul>
</li>
<li class="nx-my-2">Les ADRs doivent être dans <strong>un même endroit</strong> (d’où l’intérêt d’un ID unique).
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Il vaut mieux éviter les outils spécifiques aux architectes pour faire en sorte que l’ensemble des développeurs l’utilisent aussi.</li>
<li class="nx-my-2">Une des solutions est le wiki (ou assimilé) qui contient déjà la documentation des produits existants.</li>
<li class="nx-my-2">Une autre possibilité est d’utiliser le gestionnaire de version, créer une pull request par ADR (qu’on merge quand le statut est <em>Accepted</em>), et rédiger l’ADR dans un fichier markdown.</li>
<li class="nx-my-2">Enfin, la solution préférée de l’auteur est d’utiliser un outil de ticketing. Ça a l’avantage de pouvoir mettre en avant certains champs (Auteur, Statut, Date), être alerté par exemple quand le statut d’un ADR change, ou encore pouvoir afficher les ADRs selon des critères particuliers (recherche par auteur, par date etc.).</li>
</ul>
</li>
<li class="nx-my-2">Les ADRs doivent <strong>raconter l&#x27;histoire du système</strong>. Il faut donc qu’une personne avec un rôle cross-équipe s’occupe de :
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">S’assurer régulièrement que les ADRs ont un identifiant unique et un titre clair.</li>
<li class="nx-my-2">Créer et maintenir <strong>une page de changelog qui montre les ADRs acceptés</strong> en partant du plus récent.</li>
<li class="nx-my-2">Créer et maintenir <strong>une page donnant un résumé ou une liste des ADRs les plus importants</strong>.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">La page peut être enrichie avec des diagrammes, des liens vers des endroits importants de la codebase, ou une <em>domain-driven design vision</em> (cf. chapitre 15 de <strong><em>Domain-Driven Design</em></strong> d’Eric Evans).</li>
<li class="nx-my-2">Les ADRs les plus importants sont notamment ceux qui ont l’impact le plus large, mais également par exemple des ADRs avec un impact large et où il a été choisi de ne rien faire.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-10 nx-border-b nx-pb-1 nx-text-3xl nx-border-neutral-200/70 contrast-more:nx-border-neutral-400 dark:nx-border-primary-100/10 contrast-more:dark:nx-border-neutral-400">Part II - Nurturing and Evolving Your Culture of Decentralized Trust<a href="#part-ii---nurturing-and-evolving-your-culture-of-decentralized-trust" id="part-ii---nurturing-and-evolving-your-culture-of-decentralized-trust" class="subheading-anchor" aria-label="Permalink for this section"></a></h2>
<h3 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-2xl">7 - Replacing Hierarchy with Decentralized Trust<a href="#7---replacing-hierarchy-with-decentralized-trust" id="7---replacing-hierarchy-with-decentralized-trust" class="subheading-anchor" aria-label="Permalink for this section"></a></h3>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Les frameworks “enterprise” d’architecture comme The Open Group Architecture Framework (TOGAF) ou Open Agile Architecture (O-AA) sont compatibles avec l’advice process, notamment parce qu’ils ont dû s&#x27;adapter aux 5 révolutions, et acceptent le shift de responsabilité et d’accountability.</li>
<li class="nx-my-2">L’accountability revient au décideur : soit l’architecte pour les décisions cross-équipes, soit l’équipe entière (ou le team lead si l’équipe choisit de faire comme ça) pour les décisions où une équipe est principalement concernée.</li>
<li class="nx-my-2">Personne n’est obligé de décider, mais ceux qui le font doivent utiliser l’advice process en toute transparence, et ceux qui veulent se lancer sont encouragés.</li>
<li class="nx-my-2">Pour que l’advice process marche et que la confiance s’installe et perdure, il faut trouver <strong>juste assez d&#x27;accords formels</strong> (contrat social, ADR), et <strong>juste assez de pratiques standard</strong> (tout ce qui vient dans les quelques chapitres suivants).</li>
<li class="nx-my-2">A partir du moment où on met en place l’advice process, <strong>la culture</strong> d’entreprise va venir combler l’écart avec les structures en place, et <strong>potentiellement menacer la confiance</strong>.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">L’auteur propose la définition de Jeffrey Liker pour la culture : “the pattern of basic assumptions… a given group has… to cope with the problems”.</li>
<li class="nx-my-2">Exemple de culture d’absence de confiance dans une organisation : une organisation où toutes les équipes mettent place de l’over-engineering pour supporter un scale et une reliability non nécessaires, et ont peur de prendre des décisions communes avec les autres, parce qu’elles partent du principe que l’architecture mise en place par les autres ne sera pas à la hauteur.</li>
<li class="nx-my-2">Dans une organisation avec une <strong>faible confiance</strong>, on peut être amené à <strong>cacher des informations ou bloquer des décisions pour exercer un contrôle</strong>.</li>
<li class="nx-my-2">La confiance doit être cultivée : en fonction de la <strong>taille de l’entreprise</strong>, il faut <strong>doser les process</strong> pour l’alimenter sans trop limiter le flow.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Les petites startups qui ont une culture de l’ownership collectif peuvent s’en sortir au début avec très peu de process. Ça marche parce que chacun se fait confiance. Tout le monde est autour de la table quand les décisions sont prises, quel que soit le mode de décision du moment, et tout le monde est aligné sur l’objectif.</li>
<li class="nx-my-2">Une fois que le groupe grossit un peu trop, <strong>un split subtile et graduel</strong> commence à se former : le groupe dominant qui a plus de pouvoir (contrôle de l’information et de l’accès aux ressources, sur le fait de fixer l’ordre du jour etc.), et qui en général ne s’en rend pas compte, et un ou plusieurs groupes périphériques qui le vivent assez douloureusement.
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Il s’agit d’un phénomène universel des groupes humains, décrit par exemple par Jo Freeman en 1972 dans <a href="https://www.jofreeman.com/joreen/tyranny.htm" target="_blank" rel="noreferrer" class="nx-text-primary-600 nx-underline nx-decoration-from-font [text-underline-position:from-font]">The Tyranny of Structurelessness<span class="nx-sr-only nx-select-none"> (opens in a new tab)</span></a>.</li>
<li class="nx-my-2">Si le groupe écoute l’ensemble des membres, il peut s’en rendre compte et agir en conséquence.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul><div class="nx-mt-16"></div><div class="nx-mb-8 nx-flex nx-items-center nx-border-t nx-pt-8 dark:nx-border-neutral-800 contrast-more:nx-border-neutral-400 dark:contrast-more:nx-border-neutral-400 print:nx-hidden"><a title="Effective TypeScript" class="nx-flex nx-max-w-[50%] nx-items-center nx-gap-1 nx-py-4 nx-text-base nx-font-medium nx-text-gray-600 nx-transition-colors [word-break:break-word] hover:nx-text-primary-600 dark:nx-text-gray-300 md:nx-text-lg ltr:nx-pr-4 rtl:nx-pl-4" href="/reading-notes/books/effective-typescript/"><svg fill="none" viewBox="0 0 24 24" stroke="currentColor" class="nx-inline nx-h-5 nx-shrink-0 ltr:nx-rotate-180"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>Effective TypeScript</a><a title="Get Your Hands Dirty on Clean Architecture" class="nx-flex nx-max-w-[50%] nx-items-center nx-gap-1 nx-py-4 nx-text-base nx-font-medium nx-text-gray-600 nx-transition-colors [word-break:break-word] hover:nx-text-primary-600 dark:nx-text-gray-300 md:nx-text-lg ltr:nx-ml-auto ltr:nx-pl-4 ltr:nx-text-right rtl:nx-mr-auto rtl:nx-pr-4 rtl:nx-text-left" href="/reading-notes/books/get-your-hands-dirty-on-clean-architecture/">Get Your Hands Dirty on Clean Architecture<svg fill="none" viewBox="0 0 24 24" stroke="currentColor" class="nx-inline nx-h-5 nx-shrink-0 rtl:nx-rotate-180"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></a></div></main></article></div><footer class="nx-bg-gray-100 nx-pb-[env(safe-area-inset-bottom)] dark:nx-bg-neutral-900 print:nx-bg-transparent"><div class="nx-mx-auto nx-flex nx-max-w-[90rem] nx-gap-2 nx-py-2 nx-px-4 nx-hidden"><button title="Change theme" class="nx-h-7 nx-rounded-md nx-px-2 nx-text-left nx-text-xs nx-font-medium nx-text-gray-600 nx-transition-colors dark:nx-text-gray-400 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50" id="headlessui-listbox-button-:Rkt6:" type="button" aria-haspopup="listbox" aria-expanded="false" data-headlessui-state=""><div class="nx-flex nx-items-center nx-gap-2 nx-capitalize"><svg fill="none" viewBox="3 3 18 18" width="12" height="12" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" fill="currentColor" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path></svg><span class="">Light</span></div></button></div><hr class="dark:nx-border-neutral-800"/><div class="nx-mx-auto nx-flex nx-max-w-[90rem] nx-justify-center nx-py-12 nx-text-gray-600 dark:nx-text-gray-400 md:nx-justify-start nx-pl-[max(env(safe-area-inset-left),1.5rem)] nx-pr-[max(env(safe-area-inset-right),1.5rem)]">Made by Roman Mkrtchian</div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/books/facilitating-software-architecture","query":{},"buildId":"xuNC9Xhs0EOmT5OnEogRT","assetPrefix":"/reading-notes","nextExport":true,"autoExport":true,"isFallback":false,"scriptLoader":[]}</script></body></html>