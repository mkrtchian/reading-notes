(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[992],{4757:(e,n,s)=>{"use strict";s.r(n),s.d(n,{__toc:()=>l,default:()=>c});var i=s(7876),t=s(301),r=s(7586);let l=[];function a(e){let n=Object.assign({h1:"h1",ul:"ul",li:"li",strong:"strong",em:"em",a:"a"},(0,r.R)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{children:"Facilitating Software Architecture"}),"\n",(0,i.jsx)(n.h1,{children:"1 - Centralized Architecture Practices in a Decentralized World"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["La ",(0,i.jsx)(n.strong,{children:"software architecture"})," est :\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Selon Grady Booch : “the set of significant design decisions that shape the form and function of the system”."}),"\n",(0,i.jsx)(n.li,{children:"Selon Martin Fowler : “those decisions that are both important and hard to change”."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Pour l’auteur, l’architecture a deux composantes bien mises en valeur par ces deux d\xe9finitions : (1) le ",(0,i.jsx)(n.strong,{children:"r\xe9sultat final du syst\xe8me en lui-m\xeame"})," d’une part, et (2) la ",(0,i.jsx)(n.strong,{children:"pratique consistant \xe0 prendre les d\xe9cisions d’architecture"})," d’autre part.\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Le point (1) a \xe9t\xe9 largement \xe9tay\xe9 et formalis\xe9 sous forme de patterns . Le point (2) beaucoup moins, et c’est l’objet de ce livre."}),"\n",(0,i.jsxs)(n.li,{children:["Une bonne architecture implique :\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Des parties coh\xe9rentes, coh\xe9sives, et align\xe9es avec le domaine."}),"\n",(0,i.jsx)(n.li,{children:"Des parties d\xe9coupl\xe9es permettant \xe0 des \xe9quipes de travailler en parall\xe8le."}),"\n",(0,i.jsx)(n.li,{children:"Une architecture suffisamment qu’on peut changer facilement."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:"La pratique doit donc permettre d’obtenir ce genre de r\xe9sultat."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["La pratique de l’architecture sous sa forme ",(0,i.jsx)(n.strong,{children:"traditionnelle"})," ne permet pas de r\xe9pondre aux enjeux d’architecture moderne.\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Il y a deux formes de pratique traditionnelle (en r\xe9alit\xe9 c’est toujours un mix des deux) :\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"1 - Ivory tower architects"})," : les architectes prennent les d\xe9cisions d’architecture globales, mais aussi locales \xe0 chaque produit.\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"On constate en g\xe9n\xe9ral une homog\xe9n\xe9isation de l’architecture pour la rendre plus intelligible et contr\xf4lable par l’architecte, au d\xe9triment des sp\xe9cificit\xe9s locales de chaque produit."}),"\n",(0,i.jsx)(n.li,{children:"L’architecte est d’autant plus vu comme au-dessus des autres."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"2 - Hands on architects"})," : les architectes vont voir les \xe9quipes et co-designent et codent le syst\xe8me avec eux, en passant d'\xe9quipe en \xe9quipe.\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Ils n’ont pas le temps de rester assez avec chaque \xe9quipe pour r\xe9pondre \xe0 toutes les probl\xe9matiques, ni le temps de se consacrer suffisamment \xe0 la vision globale du syst\xe8me."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Le probl\xe8me principal avec les deux approches, c’est que l’architecte est ",(0,i.jsx)(n.strong,{children:"responsable des d\xe9cisions d’architecture \xe0 la place des \xe9quipes"}),".\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Il n’arrive pas \xe0 suivre les d\xe9tails de chaque partie locale que les \xe9quipes connaissent mieux, et il manque de temps pour traiter toutes les demandes correctement."}),"\n",(0,i.jsx)(n.li,{children:"Il en r\xe9sulte qu’il devient un bottleneck pour les \xe9quipes, et finit par prendre des d\xe9cisions de moins bonne qualit\xe9."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Selon l’auteur, le monde du logiciel a connu ",(0,i.jsx)(n.strong,{children:"5 r\xe9volutions"})," techniques et socio-techniques :\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"1 - Agile manifesto"})," : focus sur un code test\xe9 qui marche, livr\xe9 r\xe9guli\xe8rement, et en faisant confiance aux d\xe9veloppeurs pour faire le travail."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"2 - Cloud computing"})," : on a pu d\xe9ployer des syst\xe8mes tr\xe8s rapidement, sans avoir \xe0 mettre en place une infrastructure physique pendant des semaines."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"3 - DevOps"})," : on a pu mettre la fonctionnalit\xe9 dans les main de l’utilisateur en quelques instants, gr\xe2ce au fait que les \xe9quipes de delivery avaient maintenant la main sur le d\xe9ploiement et la gestion de leur application."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"4 - Product thinking"})," : on a cherch\xe9 \xe0 obtenir du feedback des utilisateurs le plus vite et le plus souvent possible, pour s’assurer de construire la solution qui apporte le plus de valeur."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"5 - Stream-aligned teams"})," : on a privil\xe9gi\xe9 les \xe9quipes autonomes responsables des changements de bout en bout, travaillant sur des produits sur lesquels elles ont l’ownership.\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Cette derni\xe8re a eu une p\xe9riode de gestation tr\xe8s longue :\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Elle \xe9tait d\xe9j\xe0 mise en avant dans le livre ",(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.em,{children:"Domain Driven Design"})})," d’Eric Evans et ",(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.em,{children:"The Principles of Product Development Flow"})})," de Donald Reinertsen."]}),"\n",(0,i.jsx)(n.li,{children:"Elle a \xe9t\xe9 facilit\xe9e par le concept de microservices de James Lewis."}),"\n",(0,i.jsxs)(n.li,{children:["Puis elle a \xe9t\xe9 popularis\xe9e par ",(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.em,{children:"Accelerate"})})," de la team DORA, ",(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.em,{children:"Inspired"})})," de Marty Cagan et ",(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.em,{children:"Team Topologies"})})," de Matthiew Skelton et Samuel Pais."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:"Lorsque ces r\xe9volutions sont combin\xe9es, on obtient des syst\xe8mes tr\xe8s efficaces, capables de mettre chaque incr\xe9ment de feature dans les mains de l’utilisateur tr\xe8s vite, et de maximiser la valeur."}),"\n",(0,i.jsxs)(n.li,{children:["L’approche traditionnelle de l’architecture logicielle est bas\xe9e sur le contr\xf4le, et ne permet pas d’adh\xe9rer aux 5 r\xe9volutions : il y a ",(0,i.jsx)(n.strong,{children:"trop de complexit\xe9"})," dans le syst\xe8me, et ",(0,i.jsx)(n.strong,{children:"trop de choses qui changent"})," pour qu’une poign\xe9e d’architectes puissent \xeatre responsables des d\xe9cisions d’architecture."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Les r\xe9volutions ont men\xe9 \xe0 une ",(0,i.jsx)(n.strong,{children:"d\xe9centralisation"})," de plus en plus grande.\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Quelques caract\xe9ristiques de ce qu’est la d\xe9centralisation :\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["La d\xe9centralisation n’est ",(0,i.jsx)(n.strong,{children:"pas la distribution"})," : il s’agit d’avoir des parties autonomes plut\xf4t qu’un tout s\xe9par\xe9 en morceaux interd\xe9pendants (par exemple monolithe distribu\xe9)."]}),"\n",(0,i.jsxs)(n.li,{children:["D\xe9centraliser veut dire ",(0,i.jsx)(n.strong,{children:"abandonner le contr\xf4le"})," central et laisser l’ind\xe9pendance aux parties."]}),"\n",(0,i.jsxs)(n.li,{children:["La d\xe9centralisation ",(0,i.jsx)(n.strong,{children:"augmente la complexit\xe9"}),". On externalise l’infrastructure, l’envoi de SMS, le paiement et d’autres choses pour pouvoir avoir plus de parties dans notre syst\xe8me."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Les ",(0,i.jsx)(n.strong,{children:"\xe9quipes d\xe9centralis\xe9es"})," fonctionnent mieux.\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Les \xe9quipes ont parfois des probl\xe8mes de couplage avec d’autres \xe9quipes : en g\xe9n\xe9ral soit du ",(0,i.jsx)(n.em,{children:"work coupling"})," (attendre que l’autre \xe9quipe ait fini sa partie), soit du ",(0,i.jsx)(n.em,{children:"permission coupling"})," (je dois demander avant d’agir)."]}),"\n",(0,i.jsxs)(n.li,{children:["R\xe9duire ces couplages permet d’obtenir de meilleurs r\xe9sultats mais aussi des d\xe9veloppeurs plus heureux (cf. ",(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.em,{children:"Accelerate"})}),")."]}),"\n",(0,i.jsxs)(n.li,{children:["L’id\xe9e est de laisser les \xe9quipes travailler en ",(0,i.jsx)(n.strong,{children:"autonomie"}),", en r\xe9duisant leur cycle de livraison pour qu’ils se pr\xe9occupent eux-m\xeames de la valeur de ce qu’ils apportent aux clients."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Le ",(0,i.jsx)(n.strong,{children:"logiciel d\xe9centralis\xe9"})," fonctionne mieux. Il n’y a qu’\xe0 voir la quantit\xe9 de briques qu’on externalise chez des providers payants."]}),"\n",(0,i.jsxs)(n.li,{children:["Pour que \xe7a marche, il faut ",(0,i.jsx)(n.strong,{children:"aligner les deux"}),". Tr\xe8s souvent on essaye de d\xe9centraliser le logiciel alors qu’on a une structure d’\xe9quipe centralis\xe9e, et \xe7a fonctionne mal.\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["L’auteur recommande fortement ",(0,i.jsx)(n.a,{href:"https://www.melconway.com/Home/pdf/committees.pdf",children:"l'\xe9tude c\xe9l\xe8bre de Conway de 1968"})," qui ne fait que 4 pages."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Les pratiques d'architecture et les architectures ",(0,i.jsx)(n.strong,{children:"centralis\xe9es"})," sont inefficaces.\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"L’id\xe9e de centralisation m\xe8ne souvent \xe0 celle de blocage : que ce soit un thread qui en attend un autre, une requ\xeate en DB qui attend qu’un row se lib\xe8re, ou une \xe9quipe qui attend de pouvoir d\xe9ployer ."}),"\n",(0,i.jsxs)(n.li,{children:["Les pratiques traditionnelles ",(0,i.jsx)(n.strong,{children:"bloquent le flow de delivery"}),". Les \xe9quipes doivent attendre les d\xe9cisions des architectes, qui constituent un bottleneck.\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"La raison pour laquelle ce blocage est plus g\xeanant maintenant est que les 5 r\xe9volutions du monde du logiciel ont men\xe9 \xe0 une vitesse de changement bien plus importante qu’avant."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Les pratiques traditionnelles ",(0,i.jsx)(n.strong,{children:"ne permettent pas de r\xe9cup\xe9rer suffisamment de feedback"})," pour affecter les d\xe9cisions d’architecture.\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Les architectes de type “ivory tower” ne r\xe9cup\xe8rent pas de feedback de leurs d\xe9cisions et donc finissent par prendre des d\xe9cisions bonnes sur le papier, mais mauvaises en pratique."}),"\n",(0,i.jsx)(n.li,{children:"Les architectes “hands on” one moins ce probl\xe8me, puisqu’ils \xe9prouvent dans une certaine mesure les cons\xe9quences de l’impl\xe9mentation de leur propres d\xe9cisions d’architecture, mais ils sont alors d’autant plus d\xe9bord\xe9s."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["La ",(0,i.jsx)(n.strong,{children:"nouvelle pratique"})," doit permettre de r\xe9pondre aux 3 buts de l’architecture : coh\xe9rente et coh\xe9sive, d\xe9coupl\xe9e, et adaptable. Pour \xe7a, elle doit :\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\xcatre d\xe9centralis\xe9e"})," pour permettre aux \xe9quipes de travailler en parall\xe8le et de r\xe9aliser de nombreuses it\xe9rations rapides."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Mettre le feedback au cœur de son fonctionnement"}),", que ce soit pour les architectes ou les \xe9quipes."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Les pratiques d’architecture ",(0,i.jsx)(n.strong,{children:"ne peuvent jamais prot\xe9ger du chaos"}),", c'est-\xe0-dire des comportements complexes, impr\xe9dictibles et sensibles aux moindres changements propres aux architectures."]}),"\n",(0,i.jsxs)(n.li,{children:["L’architecture est fondamentalement ",(0,i.jsx)(n.strong,{children:"incertaine"}),", parce qu’incorporant de la ",(0,i.jsx)(n.strong,{children:"variabilit\xe9"})," \xe0 tous les niveaux.\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Il faut bien prendre l’architecture comme un tout, incluant les syst\xe8mes, mais aussi les \xe9quipes et leurs interactions, formant un ",(0,i.jsx)(n.strong,{children:"syst\xe8me sociotechnique"}),". Cette notion reconna\xeet la relation entre aspects techniques et aspects sociaux."]}),"\n",(0,i.jsx)(n.li,{children:"Il suffit par exemple de prendre ne serait-ce qu’un bout, m\xeame simple ou peu important d’un syst\xe8me, et d’en augmenter la latence, pour voir appara\xeetre une complexit\xe9 qu’on n’imaginait pas."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["L’architecture a des caract\xe9ristiques fondamentalement ",(0,i.jsx)(n.strong,{children:"\xe9mergentes"}),", c’est-\xe0-dire qu’elles sont absentes dans les parties, et apparaissent quand les parties forment un tout.\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Il existe deux types d’\xe9mergence :\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["L’",(0,i.jsx)(n.strong,{children:"\xe9mergence forte"})," concerne le fait que des parties forment un tout. Par exemple, les voitures compos\xe9es de leurs parties."]}),"\n",(0,i.jsxs)(n.li,{children:["L’",(0,i.jsx)(n.strong,{children:"\xe9mergence faible"})," n'appara\xeet \xe9vidente qu’apr\xe8s avoir d\xfb la chercher. On peut la corriger sans difficult\xe9, mais elle appara\xeetra quand on pensera avoir pens\xe9 \xe0 tout.\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Exemple : L’auteur raconte qu’il avait mis en place un syst\xe8me d’assignation de tracking number dans le cadre d’un outil autour d’ebay. Ces tracking number augmentaient tous les week ends, parce qu’avec du scaling automatique, et l’augmentation de l’activit\xe9 des utilisateurs le week end, des requ\xeates \xe9taient en timeout. Le retry provoquait une demande de nouveau tracking number, laissant l’ancien comme r\xe9serv\xe9 mais non termin\xe9. Malgr\xe9 le fait que l’\xe9quipe ait pens\xe9 \xe0 tout, ils n’avaient pas envisag\xe9 la propri\xe9t\xe9 \xe9mergente entre leur syst\xe8me de scaling et le comportement des utilisateurs."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]})]})}let c=(0,t.n)({MDXContent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,r.R)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)},pageOpts:{filePath:"pages/books/facilitating-software-architecture.md",route:"/books/facilitating-software-architecture",title:"Facilitating Software Architecture",headings:l},pageNextRoute:"/books/facilitating-software-architecture"})},5230:(e,n,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/books/facilitating-software-architecture",function(){return s(4757)}])}},e=>{var n=n=>e(e.s=n);e.O(0,[301,636,593,792],()=>n(5230)),_N_E=e.O()}]);