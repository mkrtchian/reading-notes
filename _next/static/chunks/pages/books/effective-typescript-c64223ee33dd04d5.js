(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9],{9186:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/books/effective-typescript",function(){return n(6594)}])},6594:function(e,s,n){"use strict";n.r(s),n.d(s,{__toc:function(){return t}});var r=n(5893),l=n(2673),i=n(2643);let t=[{depth:2,value:"1 - Getting to Know TypeScript",id:"1---getting-to-know-typescript"},{depth:3,value:"Item 1 : Understand the Relationship Between TypeScript and JavaScript",id:"item-1--understand-the-relationship-between-typescript-and-javascript"},{depth:3,value:"Item 2 : Know Which TypeScript Options You're Using",id:"item-2--know-which-typescript-options-youre-using"},{depth:3,value:"Item 3 : Understand That Code Generation Is Independent of Types",id:"item-3--understand-that-code-generation-is-independent-of-types"},{depth:3,value:"Item 4 : Get Comfortable with Structural Typing",id:"item-4--get-comfortable-with-structural-typing"},{depth:3,value:"Item 5 : Limit Use of the any Type",id:"item-5--limit-use-of-the-any-type"},{depth:2,value:"2 - TypeScript's Type System",id:"2---typescripts-type-system"},{depth:3,value:"Item 6 : Use Your Editor to Interrogate and Explore the Type System",id:"item-6--use-your-editor-to-interrogate-and-explore-the-type-system"},{depth:3,value:"Item 7 : Think of Types as Sets of Values",id:"item-7--think-of-types-as-sets-of-values"},{depth:3,value:"Item 8 : Know How to Tell Whether a Symbol Is in the Type Space or Value Space",id:"item-8--know-how-to-tell-whether-a-symbol-is-in-the-type-space-or-value-space"},{depth:3,value:"Item 9 : Prefer Type Declarations to Type Assertions",id:"item-9--prefer-type-declarations-to-type-assertions"},{depth:3,value:"Item 10 : Avoid Object Wrapper Types (String, Number, Boolean, Symbol, BigInt)",id:"item-10--avoid-object-wrapper-types-string-number-boolean-symbol-bigint"},{depth:3,value:"Item 11 : Recognize the Limits of Excess Property Checking",id:"item-11--recognize-the-limits-of-excess-property-checking"},{depth:3,value:"Item 12 : Apply Types to Entire Function Expressions When Possible",id:"item-12--apply-types-to-entire-function-expressions-when-possible"},{depth:3,value:"Item 13 : Know the differences Between type and interface",id:"item-13--know-the-differences-between-type-and-interface"},{depth:3,value:"Item 14 : Use Type Operations and Generics to Avoid Repeating Yourself",id:"item-14--use-type-operations-and-generics-to-avoid-repeating-yourself"},{depth:3,value:"Item 15 : Use Index Signatures for Dynamic Data",id:"item-15--use-index-signatures-for-dynamic-data"},{depth:3,value:"Item 16 : Prefer Arrays, Tuples, and ArrayLike to number Index Signatures",id:"item-16--prefer-arrays-tuples-and-arraylike-to-number-index-signatures"},{depth:3,value:"Item 17 : Use readonly to Avoid Errors Associated with Mutation",id:"item-17--use-readonly-to-avoid-errors-associated-with-mutation"},{depth:3,value:"Item 18 : Use Mapped Types to Keep Values in Sync",id:"item-18--use-mapped-types-to-keep-values-in-sync"},{depth:2,value:"3 - Type Inference",id:"3---type-inference"},{depth:3,value:"Item 19 : Avoid Cluttering Your Code with Inferable Types",id:"item-19--avoid-cluttering-your-code-with-inferable-types"},{depth:3,value:"Item 20 : Use Different Variables for Different Types",id:"item-20--use-different-variables-for-different-types"},{depth:3,value:"Item 21 : Understand Type Widening",id:"item-21--understand-type-widening"},{depth:3,value:"Item 22 : Understand Type Narrowing",id:"item-22--understand-type-narrowing"},{depth:3,value:"Item 23 : Create Objects All at Once",id:"item-23--create-objects-all-at-once"},{depth:3,value:"Item 24 : Be Consistent in Your Use of Aliases",id:"item-24--be-consistent-in-your-use-of-aliases"},{depth:3,value:"Item 25 : Use async Functions Instead of Callbacks for Asynchronous Code",id:"item-25--use-async-functions-instead-of-callbacks-for-asynchronous-code"},{depth:3,value:"Item 26 : Understand How Context Is Used in Type Inference",id:"item-26--understand-how-context-is-used-in-type-inference"},{depth:3,value:"Item 27 : Use Functional Constructs and Libraries to Help Types Flow",id:"item-27--use-functional-constructs-and-libraries-to-help-types-flow"},{depth:2,value:"4 - Type Design",id:"4---type-design"},{depth:3,value:"Item 28 : Prefer Types That Always Represent Valid States",id:"item-28--prefer-types-that-always-represent-valid-states"},{depth:3,value:"Item 29 : Be Liberal in What You Accept and Strict in What You Produce",id:"item-29--be-liberal-in-what-you-accept-and-strict-in-what-you-produce"},{depth:3,value:"Item 30 : Don't Repeat Type Information in Documentation",id:"item-30--dont-repeat-type-information-in-documentation"},{depth:3,value:"Item 31 : Push Null Values to the Perimeter of Your Types",id:"item-31--push-null-values-to-the-perimeter-of-your-types"},{depth:3,value:"Item 32 : Prefer Unions of Interfaces to Interfaces of Unions",id:"item-32--prefer-unions-of-interfaces-to-interfaces-of-unions"},{depth:3,value:"Item 33 : Prefer More Precise Alternatives to String Types",id:"item-33--prefer-more-precise-alternatives-to-string-types"},{depth:3,value:"Item 34 : Prefer Incomplete Types to Inaccurate Types",id:"item-34--prefer-incomplete-types-to-inaccurate-types"},{depth:3,value:"Item 35 : Generate Types from APIs and Specs, Not Data",id:"item-35--generate-types-from-apis-and-specs-not-data"},{depth:3,value:"Item 36 : Name Types Using the Language of Your Problem Domain",id:"item-36--name-types-using-the-language-of-your-problem-domain"},{depth:3,value:"Item 37 : Consider “Brands” for Nominal Typing",id:"item-37--consider-brands-for-nominal-typing"},{depth:2,value:"5 - Working with any",id:"5---working-with-any"},{depth:3,value:"Item 38 : Use the Narrowest Possible Scope for any Types",id:"item-38--use-the-narrowest-possible-scope-for-any-types"},{depth:3,value:"Item 39 : Prefer More Precise Variants of any to Plain any",id:"item-39--prefer-more-precise-variants-of-any-to-plain-any"},{depth:3,value:"Item 40 : Hide Unsafe Type Assertions in Well-Typed Functions",id:"item-40--hide-unsafe-type-assertions-in-well-typed-functions"},{depth:3,value:"Item 41 : Understand Evolving any",id:"item-41--understand-evolving-any"},{depth:3,value:"Item 42 : Use unknown Instead of any for Values with an Unknown Type",id:"item-42--use-unknown-instead-of-any-for-values-with-an-unknown-type"},{depth:3,value:"Item 43 : Prefer Type-Safe Approaches to Monkey Patching",id:"item-43--prefer-type-safe-approaches-to-monkey-patching"},{depth:3,value:"Item 44 : Track Your Type Coverage to Prevent Regressions in Type Safety",id:"item-44--track-your-type-coverage-to-prevent-regressions-in-type-safety"},{depth:2,value:"6 - Types Declarations and @types",id:"6---types-declarations-and-types"},{depth:3,value:"Item 45 : Put TypeScript and @types in devDependencies",id:"item-45--put-typescript-and-types-in-devdependencies"},{depth:3,value:"Item 46 : Understand the Three Versions Involved in Type Declarations",id:"item-46--understand-the-three-versions-involved-in-type-declarations"},{depth:3,value:"Item 47 : Export All Types That Appear in Public APIs",id:"item-47--export-all-types-that-appear-in-public-apis"},{depth:3,value:"Item 48 : Use TSDoc for API Comments",id:"item-48--use-tsdoc-for-api-comments"},{depth:3,value:"Item 49 : Provide a Type for this in Callbacks",id:"item-49--provide-a-type-for-this-in-callbacks"},{depth:3,value:"Item 50 : Prefer Conditional Types to Overloaded Declarations",id:"item-50--prefer-conditional-types-to-overloaded-declarations"},{depth:3,value:"Item 51 : Mirror Types to Server Dependencies",id:"item-51--mirror-types-to-server-dependencies"},{depth:3,value:"Item 52 : Be Aware of the Pitfalls of Testing Types",id:"item-52--be-aware-of-the-pitfalls-of-testing-types"},{depth:2,value:"7 - Writing and Running Your Code",id:"7---writing-and-running-your-code"},{depth:3,value:"Item 53 : Prefer ECMAScript Features to TypeScript Features",id:"item-53--prefer-ecmascript-features-to-typescript-features"},{depth:3,value:"Item 54 : Know How to Iterate Over Objects",id:"item-54--know-how-to-iterate-over-objects"},{depth:3,value:"Item 55 : Understand the DOM hierarchy",id:"item-55--understand-the-dom-hierarchy"},{depth:3,value:"Item 56 : Don't Rely on Private to Hide Information",id:"item-56--dont-rely-on-private-to-hide-information"},{depth:3,value:"Item 57 : Use Source Maps to Debug TypeScript",id:"item-57--use-source-maps-to-debug-typescript"},{depth:2,value:"8 - Migrating to TypeScript",id:"8---migrating-to-typescript"},{depth:3,value:"Item 58 : Write Modern JavaScript",id:"item-58--write-modern-javascript"},{depth:3,value:"Item 59 : Use @ts-check and JSDoc to Experiment with TypeScript",id:"item-59--use-ts-check-and-jsdoc-to-experiment-with-typescript"},{depth:3,value:"Item 60 : Use allowJs to Mix TypeScript and JavaScript",id:"item-60--use-allowjs-to-mix-typescript-and-javascript"},{depth:3,value:"Item 61 : Convert Module by Module Up Your Dependency Graph",id:"item-61--convert-module-by-module-up-your-dependency-graph"},{depth:3,value:"Item 62 : Don't Consider Migration Complete Until You Enable noImplicitAny",id:"item-62--dont-consider-migration-complete-until-you-enable-noimplicitany"}];function o(e){let s=Object.assign({h1:"h1",h2:"h2",h3:"h3",ul:"ul",li:"li",strong:"strong",code:"code",em:"em",p:"p",pre:"pre",span:"span"},(0,i.a)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.h1,{children:"Effective TypeScript"}),"\n",(0,r.jsx)(s.h2,{id:"1---getting-to-know-typescript",children:"1 - Getting to Know TypeScript"}),"\n",(0,r.jsx)(s.h3,{id:"item-1--understand-the-relationship-between-typescript-and-javascript",children:"Item 1 : Understand the Relationship Between TypeScript and JavaScript"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Tout programme JavaScript est un programme TypeScript, mais l'inverse n'est pas vrai."}),"\n",(0,r.jsx)(s.li,{children:"Le transpiler TypeScript indique des probl\xe8mes y compris sur du code JavaScript pur."}),"\n",(0,r.jsxs)(s.li,{children:["Il y a une ",(0,r.jsx)(s.strong,{children:"diff\xe9rence entre transpiler et type-checker"})," du code.","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Le type-check est plus strict, et ne laisse pas passer certaines des bizarreries de JavaScript."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"item-2--know-which-typescript-options-youre-using",children:"Item 2 : Know Which TypeScript Options You're Using"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["On a la possibilit\xe9 de choisir des options pour le type-checker. Parmi les plus importants que l'auteur conseille d'activer :","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"noImplicitAny"})," : on emp\xeache l'inf\xe9rence automatique de type ",(0,r.jsx)(s.code,{children:"any"}),". Les ",(0,r.jsx)(s.code,{children:"any"})," ne seront autoris\xe9s que s'ils sont explicitement \xe9crits."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"strictNullChecks"})," : on emp\xeache l'assignation de ",(0,r.jsx)(s.code,{children:"null"})," et d'",(0,r.jsx)(s.code,{children:"undefined"})," \xe0 n'importe quelle variable, sauf si on le d\xe9finit explicitement.","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Par exemple, on n'aura plus le droit de faire ",(0,r.jsx)(s.code,{children:"const x: number = null;"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:["Ca aide \xe0 rep\xe9rer les cas o\xf9 on va avoir une erreur ",(0,r.jsx)(s.em,{children:"“Cannot read properties on undefined”"})," au runtime."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"strict"})," : emp\xeache la plupart des erreurs runtime que TypeScript peut \xe9viter, et inclut les deux autres."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"item-3--understand-that-code-generation-is-independent-of-types",children:"Item 3 : Understand That Code Generation Is Independent of Types"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["Le type-checking et la transpilation sont ",(0,r.jsx)(s.strong,{children:"ind\xe9pendants"}),". On peut tout \xe0 fait transpiler avec ",(0,r.jsx)(s.em,{children:"tsc"})," du code qui a des erreurs au type-checker."]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Un des avantages c'est qu'on peut ex\xe9cuter le code avant m\xeame d'avoir fix\xe9 toutes les erreurs de type."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["Les types disparaissent et n'ont ",(0,r.jsx)(s.strong,{children:"aucun impact au runtime"}),"."]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"Pour faire du type-checking au runtime, il faut se baser sur des objets JavaScript : par exemple des classes."}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["Les ",(0,r.jsx)(s.em,{children:"tagged unions"})," sont aussi courants :"]}),"\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.code,{"data-language":"typescript","data-theme":"default",children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"interface"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"Square"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  kind"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"square"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  width"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"number"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"interface"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"Rectangle"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  kind"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"rectandle"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  width"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"number"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  height"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"number"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"type"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"Shape"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"Square"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"|"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"Rectangle"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:" "}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"function"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"calculateArea"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(shape"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"Shape"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:") {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"if"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"shape"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:".kind "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"==="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"rectangle"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:") {"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// [...]"})})]})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"item-4--get-comfortable-with-structural-typing",children:"Item 4 : Get Comfortable with Structural Typing"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Le typage de TypeScript est ",(0,r.jsx)(s.strong,{children:"structurel"}),". Ca veut dire qu'une valeur avec un type structurellement compatible sera accept\xe9e, m\xeame si le type n'est pas exactement le m\xeame.","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"En pratique, \xe7a veut surtout dire qu'un objet qui a des attributs suppl\xe9mentaires pourra \xeatre pass\xe9 l\xe0 o\xf9 on attendait un objet avec moins d'attributs."}),"\n",(0,r.jsxs)(s.li,{children:["C'est pour cette raison par exemple qu'",(0,r.jsx)(s.code,{children:"Object.keys(v)"})," ne renvoie pas le type des keys de l'objet mais des strings : ",(0,r.jsx)(s.strong,{children:"on n'est pas s\xfbr qu'il n'y ait pas des attributs en plus"}),"."]}),"\n",(0,r.jsx)(s.li,{children:"Ca s'applique aussi aux classes : attendre un type d'une classe ne garantit pas qu'on n'aura pas un objet custom ou une autre classe qui a au moins les m\xeames attributs et \xe9ventuellement d'autres en plus."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.h3,{id:"item-5--limit-use-of-the-any-type",children:["Item 5 : Limit Use of the ",(0,r.jsx)(s.code,{children:"any"})," Type"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["L'utilisation d'",(0,r.jsx)(s.code,{children:"any"})," ou d'",(0,r.jsx)(s.code,{children:"as any"})," permet de ",(0,r.jsx)(s.strong,{children:"d\xe9sactiver le type-checking"}),", il faut l'\xe9viter au maximum.","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Il permet de “casser les contrats”, par exemple une fonction attendant un type pr\xe9cis acceptera quand m\xeame un objet qu'on a typ\xe9 ",(0,r.jsx)(s.code,{children:"any"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:["Il emp\xeache l'autocompl\xe9tion, et m\xeame le ",(0,r.jsx)(s.strong,{children:"renommage automatique d'attribut"})," (si une variable est marqu\xe9e comme ",(0,r.jsx)(s.code,{children:"any"}),", l'\xe9diteur ne pourra pas savoir qu'il faut renommer un de ses attributs)."]}),"\n",(0,r.jsx)(s.li,{children:"Il sape la confiance dans le type system."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"2---typescripts-type-system",children:"2 - TypeScript's Type System"}),"\n",(0,r.jsx)(s.h3,{id:"item-6--use-your-editor-to-interrogate-and-explore-the-type-system",children:"Item 6 : Use Your Editor to Interrogate and Explore the Type System"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"TypeScript fournit un compilateur (tsc), mais aussi un serveur standalone (tsserver) permettant notamment de faire de l'introspection de types. C'est \xe7a qui est utilis\xe9 par l'\xe9diteur."}),"\n",(0,r.jsx)(s.li,{children:"Il ne faut pas h\xe9siter \xe0 passer la souris sur un appel de fonction dans une cha\xeene d'appels pour conna\xeetre les types inf\xe9r\xe9s \xe0 ce moment-l\xe0."}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"item-7--think-of-types-as-sets-of-values",children:"Item 7 : Think of Types as Sets of Values"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Le typage de TypeScript peut \xeatre ",(0,r.jsx)(s.strong,{children:"interpr\xe9t\xe9 comme un set de types"}),".","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"never"})," est le set vide."]}),"\n",(0,r.jsx)(s.li,{children:"Un litt\xe9ral contient une seule valeur dans le set."}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"A | B"})," r\xe9alise l'union entre A et B."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"A & B"})," r\xe9alise l'intersection entre A et B.","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"&"})," entre deux objets permet d'obtenir le type d'un objet avec l'ensemble des attributs des deux.","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Exemple :","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.code,{"data-language":"typescript","data-theme":"default",children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"interface"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"Person"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  name"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"string"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"interface"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"Lifespan"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  birth"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"Date"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  death"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"?:"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"Date"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"type"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"PersonSpan"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"Person"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"&"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"Lifespan"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]})]})}),"\n"]}),"\n",(0,r.jsx)(s.li,{children:"C'est le cas parce qu'on peut ajouter autant d'attributs en plus qu'on veut, vu que c'est du structural typing. Donc l'intersection se trouve \xeatre un objet avec les propri\xe9t\xe9s des deux obligatoirement (sinon ce ne serait pas une intersection), et d'autres propri\xe9t\xe9s non indiqu\xe9es optionnellement."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Pour assigner une valeur \xe0 une variable, il faut que tous les \xe9l\xe9ments du set du type de la valeur soient contenus dans le type de la variable.","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"extends"})," permet d'indiquer la m\xeame chose : tous les \xe9l\xe9ments du type qui \xe9tait doivent \xeatre inclus dans le type qui est \xe9tendu."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"item-8--know-how-to-tell-whether-a-symbol-is-in-the-type-space-or-value-space",children:"Item 8 : Know How to Tell Whether a Symbol Is in the Type Space or Value Space"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Il existe ",(0,r.jsx)(s.strong,{children:"deux espaces diff\xe9rents"})," dans lesquels des symboles peuvent se r\xe9f\xe9rer \xe0 des choses : le ",(0,r.jsx)(s.strong,{children:"Type space"})," et le ",(0,r.jsx)(s.strong,{children:"Value space"}),".","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Un m\xeame symbole peut \xeatre d\xe9fini dans l'un et l'autre de ces espaces pour d\xe9signer diff\xe9rentes choses."}),"\n",(0,r.jsxs)(s.li,{children:["Le fait d'\xeatre dans l'un ou l'autre de ces espaces d\xe9pend du contexte dans lequel on se trouve. Par exemple en assignation \xe0 un ",(0,r.jsx)(s.code,{children:"type"}),", en assignation \xe0 une variable ",(0,r.jsx)(s.code,{children:"let"})," ou ",(0,r.jsx)(s.code,{children:"const"}),", apr\xe8s une variable suivie d'un ",(0,r.jsx)(s.code,{children:":"})," etc…"]}),"\n",(0,r.jsxs)(s.li,{children:["Le TypeScript Playground permet facilement de se rendre compte de ce qui est dans le ",(0,r.jsx)(s.em,{children:"Type space"})," : \xe7a dispara\xeet \xe0 la transpiration."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Les classes et les enums cr\xe9ent en m\xeame temps un symbole dans le ",(0,r.jsx)(s.em,{children:"Type space"}),", et un autre dans le ",(0,r.jsx)(s.em,{children:"Value space"}),".","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Le type issu d'une classe repr\xe9sente sa structure d'attributs."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Le mot cl\xe9 ",(0,r.jsx)(s.code,{children:"typeof"})," agit diff\xe9remment en fonction de l'espace o\xf9 il est utilis\xe9 :","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Dans le ",(0,r.jsx)(s.em,{children:"Value space"})," il va renvoyer un string caract\xe9risant la valeur, par exemple ",(0,r.jsx)(s.code,{children:'"object"'})," ou ",(0,r.jsx)(s.code,{children:'"function"'}),"."]}),"\n",(0,r.jsxs)(s.li,{children:["Dans le ",(0,r.jsx)(s.em,{children:"Type space"})," il va renvoyer le type caract\xe9risant la valeur."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"typeof MaClasse"})," (si utilis\xe9 dans le ",(0,r.jsx)(s.em,{children:"Type space"}),") retourne le type de la classe elle-m\xeame, alors que ",(0,r.jsx)(s.code,{children:"MaClasse"})," (si utilis\xe9 dans le ",(0,r.jsx)(s.em,{children:"Type space"}),") repr\xe9sente le type d'une instance de cette classe."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"InstanceType<T>"})," permet de retrouver le type de l'instance \xe0 partir du type de la classe. Par exemple :","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsx)(s.code,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"InstanceType"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"<typeof"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" MaClasse"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:">"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"; "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// donne le type MaClasse"})]})})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["On peut acc\xe9der aux attributs d'un objet :","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Si c'est une valeur, avec ",(0,r.jsx)(s.code,{children:'objet["nom"]'})," ou ",(0,r.jsx)(s.code,{children:"objet.nom"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:["Si c'est un type, avec seulement ",(0,r.jsx)(s.code,{children:'Type["nom"]'}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"item-9--prefer-type-declarations-to-type-assertions",children:"Item 9 : Prefer Type Declarations to Type Assertions"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Il vaut mieux utiliser ",(0,r.jsxs)(s.strong,{children:["les ",(0,r.jsx)(s.em,{children:"type declarations"})," plut\xf4t que les ",(0,r.jsx)(s.em,{children:"type assertions"})]}),".","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Exemple :","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.code,{"data-language":"typescript","data-theme":"default",children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"type"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"Person"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" { name"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"string"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" };"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// Type declaration, \xe0 pr\xe9f\xe9rer"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"alice"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"Person"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" { name"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Alice"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" };"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// Type assertion, d\xe9conseill\xe9"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"bob"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" { name"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Bob"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" } "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"as"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"Person"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]})]})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["La raison est que ",(0,r.jsx)(s.strong,{children:"le type declaration va v\xe9rifier le type"})," qu'on assigne, alors que ",(0,r.jsx)(s.strong,{children:"le type assertion ne v\xe9rifie pas"}),", et permet d'outrepasser TypeScript dans le cas o\xf9 on en sait plus que lui sur le contexte d'un cas particulier."]}),"\n",(0,r.jsxs)(s.li,{children:["Pour autant, m\xeame avec le type type assertion, on ne peut pas assigner n'importe quoi, il faut au minimum que la valeur qu'on assigne soit d'un sous-type de la valeur \xe0 laquelle on l'assigne.","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Pour forcer un type compl\xe8tement arbitraire, on peut passer par ",(0,r.jsx)(s.code,{children:"unknown"})," ou ",(0,r.jsx)(s.code,{children:"any"}),".","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsx)(s.code,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"document"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:".body "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"as"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"unknown"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"as"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"Person"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]})})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["En plus du ",(0,r.jsx)(s.code,{children:"as"}),", on a aussi le ",(0,r.jsx)(s.code,{children:"!"})," plac\xe9 en suffixe qui permet de faire une forme de type assertion, en indiquant qu'on est s\xfbr que la valeur n'est pas ",(0,r.jsx)(s.code,{children:"null"}),".","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsx)(s.code,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"el"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"document"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".getElementById"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"foo"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:")"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"!"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]})})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Pour utiliser le type declaration dans la fonction pass\xe9e \xe0 un ",(0,r.jsx)(s.code,{children:"map"}),", on peut typer sa valeur de retour.","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsx)(s.code,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"["}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"alice"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"bob"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"]"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".map"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"((name)"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"Person"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ({ name }));"})]})})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Ici on demande \xe0 TypeScript d'inf\xe9rer la valeur de name, et on indique que la valeur de retour devra \xeatre Person."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"item-10--avoid-object-wrapper-types-string-number-boolean-symbol-bigint",children:"Item 10 : Avoid Object Wrapper Types (String, Number, Boolean, Symbol, BigInt)"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Les types primitifs (",(0,r.jsx)(s.em,{children:"string"}),", ",(0,r.jsx)(s.em,{children:"number"}),", ",(0,r.jsx)(s.em,{children:"boolean"}),", ",(0,r.jsx)(s.em,{children:"symbol"})," et ",(0,r.jsx)(s.em,{children:"bigint"}),") ne poss\xe8dent pas d'attributs comme peuvent en poss\xe9der les objets.","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Quand on utilise un attribut connu sur l'un d'entre eux, JavaScript cr\xe9e un un objet \xe9ph\xe9m\xe8re correspondant (respectivement ",(0,r.jsx)(s.em,{children:"String"}),", ",(0,r.jsx)(s.em,{children:"Number"}),", ",(0,r.jsx)(s.em,{children:"Boolean"}),", ",(0,r.jsx)(s.em,{children:"Symbol"})," et ",(0,r.jsx)(s.em,{children:"BigInt"}),") pour le wrapper et fournir l'attribut en question.","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.code,{"data-language":"typescript","data-theme":"default",children:[(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// l'attribut charAt vient de l'objet String"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"blabla"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".charAt"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"3"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:");"})]})]})}),"\n"]}),"\n",(0,r.jsx)(s.li,{children:"C'est pour \xe7a que si on assigne une propri\xe9t\xe9 \xe0 une valeur primitive, la propri\xe9t\xe9 dispara\xeet (avec l'objet associ\xe9 cr\xe9\xe9 pour l'occasion et d\xe9truit aussit\xf4t)."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Il vaut mieux ",(0,r.jsx)(s.strong,{children:"\xe9viter d'instancier les objets correspondant aux types primitifs"}),", \xe7a n'apporte rien \xe0 part de la confusion.","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Exemple :","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsx)(s.code,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"person"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"new"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"String"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Alice"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:");"})]})})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["En revanche, utiliser ces objets sans le new est tout \xe0 fait OK, \xe7a nous donne une valeur primitive comme r\xe9sultat.","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsx)(s.code,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"Boolean"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"3"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"); "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// renvoie true"})]})})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Il vaut mieux ",(0,r.jsx)(s.strong,{children:"\xe9viter d'utiliser les objets correspondant aux types primitifs dans le Type space"}),". \xc7a pose le probl\xe8me que le type primitif est assignable au type objet wrapper, alors que l'inverse n'est pas vrai.","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Exemple :","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.code,{"data-language":"typescript","data-theme":"default",children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"function"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"getPerson"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(person"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"string"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:") {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// [...]"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"getPerson"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"new"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"String"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Alice"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:")); "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// Erreur de type"})]})]})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"item-11--recognize-the-limits-of-excess-property-checking",children:"Item 11 : Recognize the Limits of Excess Property Checking"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Bien que TypeScript ait un typage structurel, il existe un m\xe9canisme particulier qui s'appelle ",(0,r.jsx)(s.strong,{children:"excess property checking"}),", et qui permet d'avoir un comportement strict et non pas structurel.","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Ce mode s'active quand on passe ",(0,r.jsx)(s.strong,{children:"une valeur litt\xe9rale"})," \xe0 une fonction, ou qu'on l'assigne \xe0 une variable.","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Et il est actif uniquement quand on est dans le cadre d'une ",(0,r.jsx)(s.em,{children:"type declaration"}),", pas dans le cadre d'une ",(0,r.jsx)(s.em,{children:"type assertion"}),"."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Exemple :","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.code,{"data-language":"typescript","data-theme":"default",children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"type"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"Person"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  name"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"string"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"alice"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"Person"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  name"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Alice"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  age: "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"20"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"; "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// Erreur, age n'existe pas sur Person"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Dans le cas o\xf9 on veut que le type ait ",(0,r.jsx)(s.strong,{children:"syst\xe9matiquement un comportement structurel"}),", m\xeame dans le cas de l'",(0,r.jsx)(s.em,{children:"excess property checking"}),", on peut l'indiquer :","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.code,{"data-language":"typescript","data-theme":"default",children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"type"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"Person"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  name"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"string"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  [other"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"string"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"]"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"unknown"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"};"})})]})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Il existe un autre m\xe9canisme similaire : il s'agit des ",(0,r.jsx)(s.strong,{children:"weak types"}),", c'est-\xe0-dire des types objets qui n'ont ",(0,r.jsx)(s.strong,{children:"que des attributs optionnels"}),".","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Ce m\xe9canisme s'applique tout le temps, et non pas juste dans le cas d'assignation de valeur litt\xe9rale."}),"\n",(0,r.jsxs)(s.li,{children:["La r\xe8gle c'est qu'on doit assigner une valeur qui a ",(0,r.jsx)(s.strong,{children:"au minimum un attribut en commun"})," avec le ",(0,r.jsx)(s.em,{children:"weak type"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:["Exemple :","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.code,{"data-language":"typescript","data-theme":"default",children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"type"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"Person"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  name"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"?:"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"string"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  age"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"?:"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"number"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"};"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"alice"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" { firstName"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"alice"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" };"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"alicePerson"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"Person"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" alice; "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// Erreur : aucun attribut en commun"})]})]})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"item-12--apply-types-to-entire-function-expressions-when-possible",children:"Item 12 : Apply Types to Entire Function Expressions When Possible"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["On peut ",(0,r.jsx)(s.strong,{children:"typer une fonction enti\xe8re"})," si elle est une ",(0,r.jsx)(s.em,{children:"function expression"}),", c'est-\xe0-dire si elle n'est pas une fonction d\xe9clar\xe9e classiquement, mais plut\xf4t une valeur qu'on peut passer \xe0 une variable."]}),"\n",(0,r.jsxs)(s.li,{children:["Typer une fonction enti\xe8re est utile notamment si :","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["On a ",(0,r.jsx)(s.strong,{children:"plusieurs fonctions qui ont la m\xeame signature"}),", et qu'on veut \xeatre plus concis.","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.code,{"data-language":"typescript","data-theme":"default",children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"type"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"BinaryFn"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" (a"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"number"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" b"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"number"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:") "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"number"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"add"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"BinaryFn"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" (a"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" b) "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" a "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"+"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" b;"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"sub"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"BinaryFn"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" (a"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" b) "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" a "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"-"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" b;"})]})]})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["On a une fonction qui ",(0,r.jsx)(s.strong,{children:"doit avoir la m\xeame signature qu'une fonction existante"}),". Dans ce cas on peut utiliser ",(0,r.jsx)(s.code,{children:"typeof"}),".","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.code,{"data-language":"typescript","data-theme":"default",children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"checkedFetch"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"typeof"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"fetch"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"async"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" (input"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" init) "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"response"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"fetch"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(input"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" init);"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// [...]"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" response;"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"};"})})]})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"item-13--know-the-differences-between-type-and-interface",children:"Item 13 : Know the differences Between type and interface"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Selon l'auteur, la convention consistant \xe0 mettre un I \xe0 chaque interface en TypeScript est consid\xe9r\xe9 aujourd'hui comme une mauvaise pratique (inutile, apporte peu de valeur etc.)."}),"\n",(0,r.jsxs)(s.li,{children:["Une interface peut \xe9tendre un type, et un type peut \xe9tendre une interface :\n",(0,r.jsx)(s.code,{children:"interface StateWithPop extends State { population: number; } type StateWithPop = State & { population: number; };"})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Une classe peut impl\xe9menter un type"})," comme elle peut impl\xe9menter un interface.","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.code,{"data-language":"typescript","data-theme":"default",children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"class"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"State"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"implements"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"TypeState"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// [...]"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["De mani\xe8re g\xe9n\xe9rale, ",(0,r.jsx)(s.strong,{children:"un type offre plus de possibilit\xe9s qu'une interface"}),". Par exemple l'utilisation d'unions.","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Un exemple notable est le ",(0,r.jsx)(s.strong,{children:"declaration merging"})," qui permet d'augmenter une interface sans changer son nom.","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.code,{"data-language":"typescript","data-theme":"default",children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"interface"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"State"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  name"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"string"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"interface"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"State"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  population"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"number"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"wyoming"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"State"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  name"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Wyoming"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  population"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"500_000"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"};"})})]})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Pour le ",(0,r.jsx)(s.strong,{children:"choix entre type et interface"}),", l'auteur conseille de se baser sur :","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"La consistance au sein de la codebase."}),"\n",(0,r.jsx)(s.li,{children:"Le fait qu'on ait besoin ou non que d'autres personnes puissent augmenter nos types."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"item-14--use-type-operations-and-generics-to-avoid-repeating-yourself",children:"Item 14 : Use Type Operations and Generics to Avoid Repeating Yourself"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Il existe de nombreuses techniques pour ",(0,r.jsx)(s.strong,{children:"\xe9viter la duplication de type"})," :","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"1 - Extraire la duplication dans un sous-type."}),"\n",(0,r.jsxs)(s.li,{children:["2 - Dans le cas de deux fonctions qui ont la m\xeame signature, cr\xe9er un type de fonction, et l'utiliser pour les typer sous forme de ",(0,r.jsx)(s.em,{children:"function expressions"})," (cf. Item 12)."]}),"\n",(0,r.jsxs)(s.li,{children:["3 - Dans le cas o\xf9 on a un type objet qui reprend ",(0,r.jsx)(s.strong,{children:"une partie des propri\xe9t\xe9s d'un autre type"}),", et qu'on veut garder ce lien sans extraire un sous-type :","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Par exemple, on ",(0,r.jsx)(s.em,{children:"State"}),", et ",(0,r.jsx)(s.em,{children:"TopNavState"})," qu'on veut d\xe9pendre d'une partie de ",(0,r.jsx)(s.em,{children:"State"})," :","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.code,{"data-language":"typescript","data-theme":"default",children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"type"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"State"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  userId"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"string"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  pageTitle"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"string"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  recentFiles"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"string"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"[];"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"type"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"TopNavState"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  userId"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"string"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  pageTitle"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"string"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"```"})]})]})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["On va pouvoir utiliser un mapped type :","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.code,{"data-language":"typescript","data-theme":"default",children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"type"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"TopNavState"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  ["}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"k"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"in"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"userId"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"|"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"pageTitle"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"]"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"State"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"["}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"k"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"];"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"};"})})]})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Ou encore l'\xe9quivalent avec ",(0,r.jsx)(s.code,{children:"Pick"})," :","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsx)(s.code,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"type"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"TopNavState"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"Pick"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"<"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"State"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"userId"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"|"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"pageTitle"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:">;"})]})})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["4 - Dans le cas o\xf9 on veut le m\xeame type objet qui existe mais avec ",(0,r.jsx)(s.strong,{children:"tous les attributs optionnels"})," :","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Par exemple pour le m\xeame type State, on peut utiliser un mapped type :","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.code,{"data-language":"typescript","data-theme":"default",children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"type"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"OptionalState"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  ["}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"k"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"in"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"keyof"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"State"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"]"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"?:"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"State"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"["}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"k"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"];"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"};"})})]})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Ou encore l'\xe9quivalent avec ",(0,r.jsx)(s.code,{children:"Partial"})," :","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsx)(s.code,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"type"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"OptionalState"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"Partial"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"<"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"State"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:">;"})]})})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["5 - Si on veut r\xe9cup\xe9rer la ",(0,r.jsx)(s.strong,{children:"valeur de retour inf\xe9r\xe9e d'une fonction"})," dans un type \xe0 r\xe9utiliser ailleurs, on peut le faire avec ",(0,r.jsx)(s.code,{children:"ReturnType"})," :","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsx)(s.code,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"type"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"UserInfo"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"ReturnType"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"<"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"typeof"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" getUserInfo>;"})]})})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"item-15--use-index-signatures-for-dynamic-data",children:"Item 15 : Use Index Signatures for Dynamic Data"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Les ",(0,r.jsx)(s.strong,{children:"index signatures"})," doivent \xeatre utilis\xe9es seulement dans le cas o\xf9 la donn\xe9e est dynamique et ",(0,r.jsx)(s.strong,{children:"qu'on ne conna\xeet pas les attributs d'un objet \xe0 la transpilation"}),".","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Exemple :","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.code,{"data-language":"typescript","data-theme":"default",children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"type"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"State"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  [property"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"string"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"]"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"string"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"};"})})]})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Sinon, il faut utiliser des types plus pr\xe9cis.","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Typer int\xe9gralement l'objet."}),"\n",(0,r.jsxs)(s.li,{children:["Ajouter undefined aux propri\xe9t\xe9s peut ajouter un peu de safety en obligeant \xe0 v\xe9rifier leur pr\xe9sence.","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.code,{"data-language":"typescript","data-theme":"default",children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"type"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"State"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  [property"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"string"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"]"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"string"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"|"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"undefined"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"};"})})]})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Utiliser ",(0,r.jsx)(s.code,{children:"Record"})," peut permettre d'\xeatre plus pr\xe9cis sur les noms de cl\xe9s.","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsx)(s.code,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"type"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"State"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"Record"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"<"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"userId"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"|"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"pageTitle"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"string"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:">;"})]})})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.li,{children:"NDLR : l'auteur n'en parle pas, mais souvent on va vouloir parser la donn\xe9e…"}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"item-16--prefer-arrays-tuples-and-arraylike-to-number-index-signatures",children:"Item 16 : Prefer Arrays, Tuples, and ArrayLike to number Index Signatures"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Les ",(0,r.jsx)(s.strong,{children:"objets JavaScript"})," sont repr\xe9sent\xe9s par des collections de cl\xe9s / valeurs, ",(0,r.jsx)(s.strong,{children:"avec les cl\xe9s ne pouvant \xeatre que des strings"})," (ou des symbols depuis ES6), et les valeurs n'importe quoi.","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Dans le cas o\xf9 on donne autre chose en cl\xe9, ce sera converti en string avec l'appel \xe0 ",(0,r.jsx)(s.code,{children:"toString()"}),", y compris pour un ",(0,r.jsx)(s.code,{children:"number"})," par exemple."]}),"\n",(0,r.jsxs)(s.li,{children:["Les ",(0,r.jsx)(s.strong,{children:"arrays"})," sont des objets aussi. On les indexe par des entiers, mais ils sont convertis ",(0,r.jsx)(s.strong,{children:"automatiquement en strings"})," par JavaScript."]}),"\n",(0,r.jsxs)(s.li,{children:["TypeScript type l'index des ",(0,r.jsx)(s.em,{children:"arrays"})," comme des ",(0,r.jsx)(s.code,{children:"number"})," pour \xe9viter au maximum les erreurs."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Pour toutes ces raisons :","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Il faut \xe9viter les ",(0,r.jsx)(s.code,{children:"for..in"})," pour les ",(0,r.jsx)(s.em,{children:"arrays"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:["Il faut de mani\xe8re g\xe9n\xe9rale ",(0,r.jsx)(s.strong,{children:"\xe9viter les numbers en tant que cl\xe9 d'objet"}),", puisque ce sera converti de toute fa\xe7on en string par JavaScript. A la place on peut soit :","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Utiliser ",(0,r.jsx)(s.code,{children:"string"})," ou ",(0,r.jsx)(s.code,{children:"symbol"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:["Utiliser un type ",(0,r.jsx)(s.em,{children:"array"}),", par exemple : ",(0,r.jsx)(s.code,{children:"Array"}),", ",(0,r.jsx)(s.code,{children:"MonType[]"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:["Utiliser un type ",(0,r.jsx)(s.em,{children:"tuple"}),", par exemple : ",(0,r.jsx)(s.code,{children:"[number, number]"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:["Ou encore utiliser ",(0,r.jsx)(s.code,{children:"ArrayLike"})," qui permet de d\xe9signer seulement les caract\xe9ristiques basiques d'un array (pouvoir acc\xe9der aux attributs par un index num\xe9rique et l'attribut ",(0,r.jsx)(s.em,{children:"length"}),"), sans les autres attributs du prototype."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"item-17--use-readonly-to-avoid-errors-associated-with-mutation",children:"Item 17 : Use readonly to Avoid Errors Associated with Mutation"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"readonly"})," permet d'indiquer qu'une variable ou un param\xe8tre ne pourra pas \xeatre modifi\xe9. ",(0,r.jsx)(s.strong,{children:"L'auteur conseille de l'utiliser d\xe8s que possible"}),".","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Une valeur ",(0,r.jsx)(s.em,{children:"readonly"})," peut \xeatre pass\xe9e \xe0 une valeur mutable, mais pas l'inverse.","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Ca a l'avantage d'\xeatre “contaminant” : si une de nos fonctions appelle une autre fonction en lui donnant une valeur qu'on n'a pas le droit de toucher, il faudra que l'autre fonction prenne aussi un param\xe8tre ",(0,r.jsx)(s.em,{children:"readonly"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:["Dans le cas o\xf9 on appelle des librairies sur lesquelles on n'a pas la main, on pourra toujours faire des ",(0,r.jsx)(s.em,{children:"type assertions"})," avec ",(0,r.jsx)(s.code,{children:"as"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"readonly"})," est par nature “shallow”, c'est \xe0 dire qu'",(0,r.jsx)(s.strong,{children:"il n'agit que sur un niveau"}),".","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Par exemple :","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.code,{"data-language":"typescript","data-theme":"default",children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"dates"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" readonly Date[];"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"dates"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".push"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"new"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" Date); "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// Error"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"dates["}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"]"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".setFullYear"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"2037"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"); "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// OK"})]})]})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Il n'y a pas de version r\xe9cursive de ",(0,r.jsx)(s.code,{children:"readonly"})," dans la librairie standard, mais on peut par exemple trouver ",(0,r.jsx)(s.code,{children:"DeepReadonly"})," dans une librairie comme ",(0,r.jsx)(s.em,{children:"ts-essentials"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"item-18--use-mapped-types-to-keep-values-in-sync",children:"Item 18 : Use Mapped Types to Keep Values in Sync"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["On peut ",(0,r.jsx)(s.strong,{children:"obliger un objet \xe0 avoir les m\xeames attributs qu'un autre type"})," en utilisant un ",(0,r.jsx)(s.strong,{children:"mapped type"}),".","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.code,{"data-language":"typescript","data-theme":"default",children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"type"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"ScatterProps"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  x"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"number"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"[];"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  y"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"number"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"[];"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"};"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"REQUIRES_UPDATE"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {["}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"k"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"in"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"keyof"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"ScatterProps"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"]"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"boolean"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"} "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  x"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"true"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  y: "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"false"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// Si on ajoute 'y', on aura une erreur"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"3---type-inference",children:"3 - Type Inference"}),"\n",(0,r.jsx)(s.h3,{id:"item-19--avoid-cluttering-your-code-with-inferable-types",children:"Item 19 : Avoid Cluttering Your Code with Inferable Types"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Il ne faut pas ajouter des types partout"}),", mais plut\xf4t en ajouter juste assez pour permettre \xe0 TypeScript de tout typer par inf\xe9rence.","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"\xc7a permet notamment de faciliter le refactoring."}),"\n",(0,r.jsx)(s.li,{children:"Du code TypeScript id\xe9al va typer la signature des fonctions, mais pas les variables cr\xe9\xe9s dans ces fonctions."}),"\n",(0,r.jsx)(s.li,{children:"Dans certains cas quand on donne une lambda fonction il n'y a m\xeame pas besoin de typer ses param\xe8tres qui seront inf\xe9r\xe9s."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Parmi les cas o\xf9 il faut ",(0,r.jsx)(s.strong,{children:"typer quand m\xeame"})," :","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Dans certains cas, on voudra faire une ",(0,r.jsx)(s.em,{children:"type declaration"})," pour \xe9viter les erreurs d\xe8s la d\xe9finition de l'objet, gr\xe2ce \xe0 l'",(0,r.jsx)(s.em,{children:"excess property checking"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:["Annoter le type de retour d'une fonction peut aussi \xeatre parfois utile :","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Ne pas faire fuiter les erreurs vers les appelants."}),"\n",(0,r.jsx)(s.li,{children:"Sp\xe9cifier le contrat d'une fonction avant m\xeame de l'impl\xe9menter."}),"\n",(0,r.jsx)(s.li,{children:"Etre coh\xe9rent dans certains cas o\xf9 la fonction va par exemple prendre un type en param\xe8tre et retourner le m\xeame type."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Il existe une r\xe8gle eslint qui s'appelle ",(0,r.jsx)(s.em,{children:"no-inferrable-types"}),", et qui permet d'\xe9viter les types qui pourraient \xeatre inf\xe9r\xe9s.."]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"item-20--use-different-variables-for-different-types",children:"Item 20 : Use Different Variables for Different Types"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Il faut ",(0,r.jsx)(s.strong,{children:"\xe9viter de r\xe9utiliser"})," une m\xeame variable pour porter une valeur d'un ",(0,r.jsx)(s.strong,{children:"autre type"}),".","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Au lieu de \xe7a, on pourrait typer avec un type plus large, mais la meilleure solution est de cr\xe9er deux variables."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"item-21--understand-type-widening",children:"Item 21 : Understand Type Widening"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Chaque variable doit avoir un seul type, et ce type est d\xe9termin\xe9 par typescript au mieux au moment de la d\xe9claration : c'est le ",(0,r.jsx)(s.strong,{children:"type widening"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:["Le ",(0,r.jsx)(s.em,{children:"type widening"})," peut ",(0,r.jsx)(s.strong,{children:"\xeatre contr\xf4l\xe9"})," par certaines techniques :","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["D\xe9clarer une variable comme ",(0,r.jsx)(s.strong,{children:"const"})," plut\xf4t que ",(0,r.jsx)(s.strong,{children:"let"})," permet d'avoir un ",(0,r.jsx)(s.em,{children:"type widening"})," moins important."]}),"\n",(0,r.jsxs)(s.li,{children:["On peut utiliser une ",(0,r.jsx)(s.strong,{children:"type declaration"})," pour sp\xe9cifier un type sp\xe9cifique plus pr\xe9cis pour un objet ou un tableau."]}),"\n",(0,r.jsxs)(s.li,{children:["On peut utiliser la ",(0,r.jsx)(s.strong,{children:"type assertion"})," ",(0,r.jsx)(s.code,{children:"as const"})," pour obtenir le type le plus pr\xe9cis possible (sans ",(0,r.jsx)(s.em,{children:"type widening"})," du tout)."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"item-22--understand-type-narrowing",children:"Item 22 : Understand Type Narrowing"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["TypeScript rend les types plus pr\xe9cis, notamment avec des ",(0,r.jsx)(s.strong,{children:"type guards"}),".","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\xc7a marche avec la condition de v\xe9rit\xe9 (pour \xe9vacuer ",(0,r.jsx)(s.code,{children:"null"})," et ",(0,r.jsx)(s.code,{children:"undefined"}),")."]}),"\n",(0,r.jsxs)(s.li,{children:["\xc7a marche avec une condition sur ",(0,r.jsx)(s.code,{children:"instanceof"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:["\xc7a marche avec le check l'attribut : ",(0,r.jsx)(s.code,{children:'"attr" in object'}),"."]}),"\n",(0,r.jsxs)(s.li,{children:["\xc7a marche avec ",(0,r.jsx)(s.code,{children:"Array.isArray()"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:["Il faut faire attention avec les comportements qui seraient contre-intuitifs en JavaScript, TypeScript les suit aussi.","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Par exemple ",(0,r.jsx)(s.code,{children:"if(!x) { ... }"})," pourrait mener \xe0 x ayant pour type ",(0,r.jsx)(s.code,{children:"string | number | null | undefined"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Un autre moyen de rendre le type plus pr\xe9cis est l'utilisation d'",(0,r.jsx)(s.strong,{children:"objets avec tag"}),"\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.code,{"data-language":"typescript","data-theme":"default",children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"switch"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ("}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"object"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:".type) {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"case"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"download"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:":"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    object; "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// de type Download"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"break"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"case"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"upload"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:":"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    object; "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// de type Upload"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"break"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["On peut aussi d\xe9finir des ",(0,r.jsx)(s.strong,{children:"custom type guards"}),".","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.code,{"data-language":"typescript","data-theme":"default",children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"function"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"isInputElement"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(el"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"HTMLElement"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:")"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" el "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"is"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"HTMLInputElement"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"value"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"in"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" el;"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Si on veut que ",(0,r.jsx)(s.strong,{children:"filter donne le bon type"}),", on peut utiliser un custom type guard plut\xf4t qu'une callback normale.","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.code,{"data-language":"typescript","data-theme":"default",children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"function"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"isDefined"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"<"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"T"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:">(x"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"T"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"|"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"undefined"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:")"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" x "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"is"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"T"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" x "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"!=="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"undefined"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"members"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ["}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Janet"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Michael"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"undefined"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"]"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".filter"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(isDefined);"})]})]})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"item-23--create-objects-all-at-once",children:"Item 23 : Create Objects All at Once"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Il vaut mieux ",(0,r.jsx)(s.strong,{children:"cr\xe9er les objets d'un coup"})," quand c'est possible.","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Cr\xe9er un objet partiel assigne un type \xe0 la variable, et l'ajout de propri\xe9t\xe9 plus tard devient plus compliqu\xe9."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Une des techniques pour aider \xe0 cr\xe9er un objet d'un coup est le spread operator ",(0,r.jsx)(s.code,{children:"..."}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["On peut construire un objet \xe0 partir de plusieurs autres :","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsx)(s.code,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"namedPoint"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" { "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"..."}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"pt"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"..."}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"id };"})]})})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["On peut construire des ",(0,r.jsx)(s.strong,{children:"variables interm\xe9diaires avec un type partiel"})," de notre objet final :","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.code,{"data-language":"typescript","data-theme":"default",children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"pt0"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {};"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"pt1"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" { "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"..."}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"pt0"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" x"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"3"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" };"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"pt"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"Point"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" { "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"..."}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"pt1"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" y"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"4"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" };"})]})]})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Dans le cas o\xf9 on veut des ",(0,r.jsx)(s.strong,{children:"propri\xe9t\xe9s conditionnelles"}),", on peut utiliser un petit utilitaire :","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.code,{"data-language":"typescript","data-theme":"default",children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"function"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"addOptional"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"<"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"T"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"extends"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"object"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"U"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"extends"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"object"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:">("})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  a"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"T"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  b"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"U"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"|"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"null"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:")"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"T"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"&"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"Partial"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"<"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"U"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"> {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" { "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"..."}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"a"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"..."}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"b };"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"president"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"addOptional"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  firstLast"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  hasMiddle "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"?"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" { middle"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"S"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" } "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"null"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:");"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"president"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:".middle; "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// string | undefined"})]})]})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"item-24--be-consistent-in-your-use-of-aliases",children:"Item 24 : Be Consistent in Your Use of Aliases"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Quand on cr\xe9e une variable servant de r\xe9f\xe9rence \xe0 une autre valeur (aliasing), il faut s'assurer qu'on utilise les type guards sur cette valeur pour rester consistant avec la suite du code.","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.code,{"data-language":"typescript","data-theme":"default",children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" { "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"bbox"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" } "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" polygon;"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"if"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" (bbox) {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" { "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"x"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"y"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" } "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" bbox;"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n"]}),"\n",(0,r.jsx)(s.li,{children:"Quand on utilise un type guard sur un objet, et qu'on appelle une fonction l'objet qu'on a v\xe9rifi\xe9, cette fonction pourrait alt\xe9rer l'objet, mais TypeScript fait le choix de ne pas invalider le type guard \xe0 chaque appel de fonction."}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"item-25--use-async-functions-instead-of-callbacks-for-asynchronous-code",children:"Item 25 : Use async Functions Instead of Callbacks for Asynchronous Code"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Il vaut mieux utiliser les promesses avec ",(0,r.jsx)(s.code,{children:"async"})," / ",(0,r.jsx)(s.code,{children:"await"})," que les promesses \xe0 l'ancienne ou m\xeame les callbacks asynchrones.","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"La syntaxe est plus concise et inf\xe8re mieux les types."}),"\n",(0,r.jsxs)(s.li,{children:["Ca force une fonction \xe0 \xeatre ",(0,r.jsx)(s.strong,{children:"soit synchrone soit asynchrone, mais pas l'une ou l'autre conditionnellement"}),". De cette mani\xe8re on sait comment l'appeler."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["On peut utiliser ",(0,r.jsx)(s.code,{children:"Promise.race()"})," qui termine d\xe8s qu'une des promesses termine, pour mettre en place un timeout :","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.code,{"data-language":"typescript","data-theme":"default",children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"function"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"timeout"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(millis"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"number"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:")"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"Promise"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"<"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"never"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"> {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"new"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"Promise"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"((resolve"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" reject) "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"setTimeout"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(() "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"reject"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"timeout"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:")"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" millis);"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  });"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"Promise"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".race"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(["}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"fetch"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(url)"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"timeout"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(ms)]);"})]})]})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"item-26--understand-how-context-is-used-in-type-inference",children:"Item 26 : Understand How Context Is Used in Type Inference"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["En g\xe9n\xe9ral TypeScript va ",(0,r.jsx)(s.strong,{children:"inf\xe9rer le type d'une valeur \xe0 sa cr\xe9ation"}),". Si on l'utilise plus tard dans un autre contexte (par exemple apr\xe8s qu'on l'ait plac\xe9e dans une variable interm\xe9diaire), l'inf\xe9rence peut \xeatre mauvaise vis-\xe0-vis de l'utilisation finale.","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Le contexte est conserv\xe9 par exemple pour :","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Les types ",(0,r.jsx)(s.strong,{children:"string litt\xe9raux"}),", qui sinon vont plut\xf4t \xeatre inf\xe9r\xe9s en string g\xe9n\xe9ral dans le cas d'une d\xe9claration dans une variable let."]}),"\n",(0,r.jsxs)(s.li,{children:["Les types ",(0,r.jsx)(s.strong,{children:"tuple"}),", qui sinon vont plut\xf4t \xeatre inf\xe9r\xe9s en tableau dans le cas d'une d\xe9claration dans une variable let."]}),"\n",(0,r.jsxs)(s.li,{children:["Les ",(0,r.jsx)(s.strong,{children:"objets"})," contenant des strings litt\xe9raux ou des tuples."]}),"\n",(0,r.jsxs)(s.li,{children:["Les ",(0,r.jsx)(s.strong,{children:"callbacks"})," dont on n'a pas besoin de fournir le type des param\xe8tres quand ils sont directement fournis \xe0 la fonction."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Pour corriger le type en cas de perte de contexte, on va en g\xe9n\xe9ral :","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["1 - Utiliser une ",(0,r.jsx)(s.strong,{children:(0,r.jsx)(s.em,{children:"type declaration"})})," pour contraindre la valeur au type de notre choix."]}),"\n",(0,r.jsxs)(s.li,{children:["2 - Utiliser la ",(0,r.jsx)(s.strong,{children:(0,r.jsx)(s.em,{children:"const assertion"})})," ",(0,r.jsx)(s.code,{children:"as const"})," pour contraindre la valeur au plus pr\xe9cis.","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Attention par contre : \xe7a va transformer la valeur en ",(0,r.jsx)(s.em,{children:"deeply constant"}),". Une solution peut \xeatre de propager ce comportement dans les endroits o\xf9 on passe la valeur."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"item-27--use-functional-constructs-and-libraries-to-help-types-flow",children:"Item 27 : Use Functional Constructs and Libraries to Help Types Flow"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Il vaut mieux ",(0,r.jsx)(s.strong,{children:"utiliser les fonctions built-in et les librairies externes"})," (par exemple Lodash, Ramda etc.) ",(0,r.jsx)(s.strong,{children:"plut\xf4t que de coder les choses \xe0 la main"}),". Ce sera plus lisible et mieux typ\xe9.","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"JavaScript n'a pas vraiment de librairie standard, les librairies externes jouent en grande partie ce r\xf4le, et TypeScript a \xe9t\xe9 construit pour les supporter."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:".flat()"})," sur un tableau multidimensionnel permet de le transformer en tableau \xe0 une dimension."]}),"\n",(0,r.jsxs)(s.li,{children:["Lodash permet de cha\xeener des appels \xe0 ses fonctions utilitaires en donnant la valeur \xe0 la fonction ",(0,r.jsx)(s.code,{children:"_"}),", puis permet de r\xe9obtenir la valeur finale avec ",(0,r.jsx)(s.code,{children:".value()"}),".","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["On aura ",(0,r.jsx)(s.code,{children:"_(v).a().b().c().value()"})," :","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.code,{"data-language":"typescript","data-theme":"default",children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"_"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(vallPlayers)"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".groupBy"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"((player) "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"player"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:".team)"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".mapValues"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"((players) "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"_"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".maxBy"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(players"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" (p) "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"p"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:".salary))"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".values"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"();"})]})]})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"4---type-design",children:"4 - Type Design"}),"\n",(0,r.jsx)(s.h3,{id:"item-28--prefer-types-that-always-represent-valid-states",children:"Item 28 : Prefer Types That Always Represent Valid States"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Il vaut mieux \xe9crire un type plus long ou plus complexe, mais qui permet d'",(0,r.jsx)(s.strong,{children:"interdire les \xe9tats invalides"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:["On peut par exemple utiliser les ",(0,r.jsx)(s.em,{children:"tagged unions"})," (ou ",(0,r.jsx)(s.em,{children:"discriminated unions"}),"), qui sont une union d'objets ayant un attribut commun qui permet de savoir dans quel cas on est, et des attributs sp\xe9cifiques \xe0 chaque cas possible.","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.code,{"data-language":"typescript","data-theme":"default",children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"interface"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"RequestError"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  state"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"error"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  error"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"string"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"interface"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"RequestSuccess"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  state"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"ok"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  pageText"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"string"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"type"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"RequestState"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"RequestError"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"|"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"RequestSuccess"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]})]})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"item-29--be-liberal-in-what-you-accept-and-strict-in-what-you-produce",children:"Item 29 : Be Liberal in What You Accept and Strict in What You Produce"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Il faut \xeatre ",(0,r.jsx)(s.strong,{children:"strict avec les types qu'on retourne"})," dans une fonction (\xe9viter les attributs optionnels par exemple), et on peut au contraire \xeatre ",(0,r.jsx)(s.strong,{children:"l\xe2che avec les types qu'on accepte"})," en param\xe8tre (par exemple une union de types)."]}),"\n",(0,r.jsxs)(s.li,{children:["Une utilisation classique est de d\xe9finir un type canonique pour l'output, et un type d\xe9riv\xe9 de celui-l\xe0 et plus large pour l'input.","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["C'est un peu la distinction entre ",(0,r.jsx)(s.code,{children:"Array"})," et ",(0,r.jsx)(s.code,{children:"ArrayLike"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:["Exemple :","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.code,{"data-language":"typescript","data-theme":"default",children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"interface"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"Camera"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  zoom"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"number"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  pitch"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"number"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"setCamera"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(camera: Partial"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"<"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"Camera"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:">"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"): Camera {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// ..."})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"item-30--dont-repeat-type-information-in-documentation",children:"Item 30 : Don't Repeat Type Information in Documentation"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Il faut \xe9viter les informations de type dans les commentaires, docstrings etc. les types sont l\xe0 pour \xe7a."}),"\n",(0,r.jsxs)(s.li,{children:["On peut envisager de mettre les unit\xe9s dans les noms de variable, par exemple ",(0,r.jsx)(s.code,{children:"timeMs"})," ou ",(0,r.jsx)(s.code,{children:"temperatureC"}),"."]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"item-31--push-null-values-to-the-perimeter-of-your-types",children:"Item 31 : Push Null Values to the Perimeter of Your Types"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Il faut \xe9viter les types objets dont une partie des attributs peut \xeatre ",(0,r.jsx)(s.code,{children:"null"})," ou ",(0,r.jsx)(s.code,{children:"undefined"})," : ",(0,r.jsxs)(s.strong,{children:["soit tout est d\xe9fini, soit le tout est ",(0,r.jsx)(s.code,{children:"null"})]}),".","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Il faut \xe9viter les relations de non-nullit\xe9 ",(0,r.jsx)(s.strong,{children:"implicite"})," entre deux variables, si elles sont li\xe9es on les mets au sein d'un m\xeame objet o\xf9 elles ne pourront \xeatre que d\xe9finies toutes les deux, ou l'objet tout entier non d\xe9fini.","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.code,{"data-language":"typescript","data-theme":"default",children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"type"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"Bounds"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:": [number, number] | null;"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"bounds"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ["}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"10"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"20"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"];"})]})]})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Si possible, il vaut mieux ",(0,r.jsx)(s.strong,{children:"cr\xe9er une classe avec des membres non nuls"}),", au besoin avec une m\xe9thode statique asynchrone sur la classe, qui va chercher de la donn\xe9e et renvoie ensuite une instance de la classe avec cette donn\xe9e.","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.code,{"data-language":"typescript","data-theme":"default",children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"class"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"User"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  user"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"UserInfo"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"constructor"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(user"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"UserInfo"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:") {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"this"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:".user "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" user;"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  }"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"static"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"async"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"init"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(userId"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"string"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:")"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"Promise"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"<"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"User"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"> {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ["}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"user"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"] "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"fetchUser"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(userId);"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"new"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"User"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(user);"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  }"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Attention aux m\xe9thodes asynchrones : elles sont pratiques pour aller chercher de la donn\xe9e asynchrone \xe0 l'ext\xe9rieur, mais le sont moins si on les utilise pour attendre qu'une valeur ",(0,r.jsx)(s.code,{children:"null"})," finisse par \xeatre d\xe9finie."]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"item-32--prefer-unions-of-interfaces-to-interfaces-of-unions",children:"Item 32 : Prefer Unions of Interfaces to Interfaces of Unions"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Quand on a ",(0,r.jsx)(s.strong,{children:"un type d'objet avec des attributs \xe9tant des unions"}),", il faut se demander si on ne peut pas ",(0,r.jsx)(s.strong,{children:"remplacer \xe7a par une union de types d'objets"}),".","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Exemple :","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.code,{"data-language":"typescript","data-theme":"default",children:[(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// Il vaut mieux"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"interface"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"FillLayer"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  layout"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"FillLayout"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  paint"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"FillPaint"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"interface"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"LineLayer"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  layout"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"LineLayout"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  paint"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"LinePaint"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// plut\xf4t que"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"interface"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"Layer"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  layout"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"FillLayout"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"|"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"LineLayout"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  paint"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"FillPaint"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"|"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"LinePaint"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n"]}),"\n",(0,r.jsx)(s.li,{children:"Ca permet notamment d'interdire les valeurs incoh\xe9rentes, faisant suite \xe0 l'Item 28."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"item-33--prefer-more-precise-alternatives-to-string-types",children:"Item 33 : Prefer More Precise Alternatives to String Types"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Le fait d'avoir de nombreux attributs typ\xe9s ",(0,r.jsx)(s.code,{children:"string"})," dans un objet est un code smell.","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Le fait d'indiquer une pr\xe9cision de format pour un ",(0,r.jsx)(s.code,{children:"string"})," en commentaire en est un autre."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Dans la mesure du possible, ",(0,r.jsxs)(s.strong,{children:[(0,r.jsx)(s.code,{children:"string"})," peut \xeatre remplac\xe9"]})," par :","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Une union de ",(0,r.jsx)(s.em,{children:"string literals"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:["Un ",(0,r.jsx)(s.em,{children:"value object"})," qui porte le string."]}),"\n",(0,r.jsxs)(s.li,{children:["Un ",(0,r.jsx)(s.em,{children:"type g\xe9n\xe9rique"})," qui met au moins une contrainte sur le string.","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Dans le cas particulier o\xf9 on veut la valeur des attributs d'un objet, ne pas oublier d'utiliser ",(0,r.jsx)(s.code,{children:"keyof NotreObjet"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"item-34--prefer-incomplete-types-to-inaccurate-types",children:"Item 34 : Prefer Incomplete Types to Inaccurate Types"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Il vaut mieux un type moins pr\xe9cis"})," qu'un type pr\xe9cis mais ",(0,r.jsx)(s.strong,{children:"incorrect"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:["Il faut aussi prendre en compte la developer experience :","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Un type trop complexe risque d'\xeatre plus prompt aux erreurs quand il sera modifi\xe9."}),"\n",(0,r.jsx)(s.li,{children:"Un type produisant une erreur incompr\xe9hensible ne fera pas gagner de temps."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"item-35--generate-types-from-apis-and-specs-not-data",children:"Item 35 : Generate Types from APIs and Specs, Not Data"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Il vaut mieux obtenir des types officiels (de librairie par exemple), ou ",(0,r.jsx)(s.strong,{children:"g\xe9n\xe9rer les types \xe0 partir de sp\xe9cifications, plut\xf4t que de les g\xe9n\xe9rer \xe0 partir d'exemples de donn\xe9es"}),"."]}),"\n",(0,r.jsx)(s.li,{children:"Par exemple, un sch\xe9ma GraphQL peut facilement servir de sp\xe9cification pour g\xe9n\xe9rer des types pour les entr\xe9es et sorties d'une API."}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"item-36--name-types-using-the-language-of-your-problem-domain",children:"Item 36 : Name Types Using the Language of Your Problem Domain"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Il faut ",(0,r.jsx)(s.strong,{children:"utiliser le vocabulaire du domaine dans le code"}),".","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Si deux mots d\xe9signent la m\xeame chose, on n'en garde qu'un seul dans le code."}),"\n",(0,r.jsxs)(s.li,{children:["Dans le cas o\xf9 le domaine en question a des sp\xe9cifications ou normes, ne pas h\xe9siter \xe0 les adopter, y compris dans le typage, plut\xf4t que de rester vague ou d'inventer sa propre sp\xe9cification.","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Exemple : pour indiquer le climat de vie d'un animal, il existe une classification appel\xe9e K\xf6ppen Climage. On peut du coup cr\xe9er une union des ",(0,r.jsx)(s.em,{children:"string literals"})," de climats possibles plut\xf4t qu'un ",(0,r.jsx)(s.em,{children:"string"}),"."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["NDLR : le livre ne fait pas le lien explicite, mais il s'agit ici de l'",(0,r.jsx)(s.em,{children:"ubiquitous language"})," du DDD."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"item-37--consider-brands-for-nominal-typing",children:"Item 37 : Consider “Brands” for Nominal Typing"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Si on veut forcer un ",(0,r.jsx)(s.em,{children:"nominal type"})," quelque part, c'est-\xe0-dire ",(0,r.jsx)(s.strong,{children:"emp\xeacher les valeurs qui conviennent structurellement mais ont des choses en plus"}),", on peut ajouter un attribut cach\xe9 qu'on appellera ",(0,r.jsx)(s.strong,{children:(0,r.jsx)(s.code,{children:"_brand"})}),".","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.code,{"data-language":"typescript","data-theme":"default",children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"interface"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"Vector2D"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  _brand"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"2d"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  x"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"number"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  y"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"number"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Cette technique du ",(0,r.jsx)(s.em,{children:"brand"})," peut aussi servir \xe0 simuler le comportement d'un ",(0,r.jsx)(s.em,{children:"Value Object"}),", c'est-\xe0-dire ",(0,r.jsx)(s.strong,{children:"garantir qu'une valeur aura certaines caract\xe9ristiques v\xe9rifi\xe9es au runtime"}),".","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["On peut par exemple demander un type ",(0,r.jsx)(s.code,{children:"string & {_brand: 'quelque chose'}"}),", pour obliger le passage par un type guard custom.","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.code,{"data-language":"typescript","data-theme":"default",children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"type"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"AbsolutePath"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"string"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"&"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" { _brand"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"abs"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" };"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"function"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"listAbsolutePath"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(path"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"AbsolutePath"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:") {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"//..."})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"function"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"isAbsolutePath"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(path"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"string"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:")"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" path "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"is"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"AbsolutePath"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"path"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".startsWith"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"/"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"5---working-with-any",children:"5 - Working with any"}),"\n",(0,r.jsx)(s.h3,{id:"item-38--use-the-narrowest-possible-scope-for-any-types",children:"Item 38 : Use the Narrowest Possible Scope for any Types"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Il faut ",(0,r.jsx)(s.strong,{children:"restreindre l'utilisation de any au plus petit scope possible"}),".","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Pr\xe9f\xe9rer la ",(0,r.jsx)(s.em,{children:"type assertion"})," ",(0,r.jsx)(s.code,{children:"as any"})," qui n'agira que sur une instruction, plut\xf4t qu'une ",(0,r.jsx)(s.em,{children:"type declaration"})," de ",(0,r.jsx)(s.code,{children:"any"})," qui va propager le any partout o\xf9 la variable sera utilis\xe9e.","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.code,{"data-language":"typescript","data-theme":"default",children:[(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// On pr\xe9f\xe8re la type assertion"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"x"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"expressionReturningFoo"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"();"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"processBar"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(x "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"as"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"any"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// Plut\xf4t que la type declaration"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"x"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"any"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"expressionReturningFoo"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"();"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"processBar"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(x);"})]})]})}),"\n"]}),"\n",(0,r.jsx)(s.li,{children:"\xc9viter \xe0 tout prix de retourner any dans une fonction. Au besoin on peut typer son retour pour l'\xe9viter."}),"\n",(0,r.jsxs)(s.li,{children:["Si un objet ne match pas un type particulier \xe0 cause d'un seul attribut, mais qu'on sait qu'il devrait, il vaut mieux faire une type assertion sur l'attribut seulement, et pas sur l'objet entier.","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.code,{"data-language":"typescript","data-theme":"default",children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"config"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"Config"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  a"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"1"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  b"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    key"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" value "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"as"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"any"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  }"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"};"})})]})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"item-39--prefer-more-precise-variants-of-any-to-plain-any",children:"Item 39 : Prefer More Precise Variants of any to Plain any"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Dans un souci d'utiliser le type le plus restrictif possible, dans le ",(0,r.jsx)(s.strong,{children:"cas o\xf9 on doit utiliser any"}),", il faut voir si on ne peut pas ",(0,r.jsx)(s.strong,{children:"utiliser un type un peu plus pr\xe9cis \xe0 la place"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:["Exemples :","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"any[]"})," si on sait que le type sera un tableau."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"{[id: string]: any}"})," si on sait que le type sera un objet."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"() => any"})," si on sait que le type sera une fonction."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"item-40--hide-unsafe-type-assertions-in-well-typed-functions",children:"Item 40 : Hide Unsafe Type Assertions in Well-Typed Functions"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Dans le cas o\xf9 \xe7a ne vaut pas le coup de faire une version type safe d'un bout de code, et o\xf9 on se contente d'une ",(0,r.jsx)(s.em,{children:"type assertion"}),", alors il faut ",(0,r.jsx)(s.strong,{children:"pr\xe9f\xe9rer la contenir \xe0 l'int\xe9rieur d'une fonction qui aura ses param\xe8tres et valeurs de retour typ\xe9s"}),".","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["De cette mani\xe8re la ",(0,r.jsx)(s.em,{children:"type assertion"})," ne sera pas faite et refaite partout dans le code, mais seulement dans un endroit pr\xe9cis, id\xe9alement \xe0 c\xf4t\xe9 du code qui prouve qu'elle a du sens."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"item-41--understand-evolving-any",children:"Item 41 : Understand Evolving any"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Alors que les types sont en g\xe9n\xe9ral \xe9valu\xe9s \xe0 la cr\xe9ation des valeurs, et ne peuvent \xeatre qu'affin\xe9s plus tard (avec des type guards par exemple), ",(0,r.jsx)(s.strong,{children:"dans le cas d'une valeur any inf\xe9r\xe9e, le type va pouvoir \xe9voluer"})," dans le code de la fonction en fonction des \xe9critures dans la variable.","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\xc7a peut \xeatre par exemple une valeur initiale de tableau \xe9valu\xe9e \xe0 ",(0,r.jsx)(s.code,{children:"any[]"}),", qui finit par \xe9voluer vers ",(0,r.jsx)(s.code,{children:"number[]"})," \xe0 la sortie de la fonction, parce qu'on aura pouss\xe9 des nombres dans le tableau.","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.code,{"data-language":"typescript","data-theme":"default",children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"function"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"range"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(start"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" limit) {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"out"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" [];"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"for"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ("}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"let"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" i "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" start; i "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"<"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" limit; i"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"++"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:") {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"out"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".push"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(i);"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  }"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" out;"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\xc7a peut \xeatre aussi une variable qu'on cr\xe9e comme ",(0,r.jsx)(s.code,{children:"let"})," ou ",(0,r.jsx)(s.code,{children:"var"}),", sans assignation initiale, ou en assignant ",(0,r.jsx)(s.code,{children:"null"}),". Son type va alors \xe9voluer au gr\xe9 des assignations.","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.code,{"data-language":"typescript","data-theme":"default",children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"let"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" val; "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// any"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"if"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ("}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"Math"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".random"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"() "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"<"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"0.5"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:") {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  val "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:" /hello/"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  val; "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// RegExp"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"} "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"else"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  val "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"12"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  val; "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// number"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"val; "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// number | RegExp"})]})]})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Ce comportement se produit seulement si ",(0,r.jsx)(s.code,{children:"any"})," est inf\xe9r\xe9 automatiquement, que ",(0,r.jsx)(s.em,{children:"noImplicitAny"})," est activ\xe9."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"item-42--use-unknown-instead-of-any-for-values-with-an-unknown-type",children:"Item 42 : Use unknown Instead of any for Values with an Unknown Type"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Quand on ",(0,r.jsx)(s.strong,{children:"ne conna\xeet pas le type d'une valeur"})," (par exemple si elle vient du r\xe9seau \xe0 l'ex\xe9cution), ",(0,r.jsxs)(s.strong,{children:["il faut la typer ",(0,r.jsx)(s.code,{children:"unknown"})]}),".","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Ca va forcer \xe0 typer la valeur pour y acc\xe9der :","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Soit avec une ",(0,r.jsx)(s.em,{children:"type assertion"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:["Soit avec une v\xe9rification au runtime : par exemple ",(0,r.jsx)(s.code,{children:"instanceof"})," ou un type guard custom."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["A propos des caract\xe9ristiques des types :","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"any"})," peut \xeatre assign\xe9 \xe0 tout type, et toute valeur peut lui \xeatre assign\xe9e."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"unknown"})," ne peut \xeatre assign\xe9 \xe0 aucun type sauf ",(0,r.jsx)(s.code,{children:"any"})," et lui-m\xeame, mais toute valeur peut lui \xeatre assign\xe9e."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"never"})," peut \xeatre assign\xe9 \xe0 tout type, mais aucune valeur ne peut lui \xeatre assign\xe9e."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"item-43--prefer-type-safe-approaches-to-monkey-patching",children:"Item 43 : Prefer Type-Safe Approaches to Monkey Patching"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["En JavaScript on peut faire du ",(0,r.jsx)(s.strong,{children:"monkey-patching"}),", c'est-\xe0-dire ajouter des attributs \xe0 un objet \xe0 la vol\xe9e. On le fait souvent c\xf4t\xe9 client pour ajouter des choses \xe0 ",(0,r.jsx)(s.em,{children:"document"}),", ou \xe0 des balises HTML.","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["C'est une ",(0,r.jsx)(s.strong,{children:"mauvaise pratique"})," parce \xe7a revient \xe0 ajouter des variables \xe0 un niveau global, accessibles depuis trop d'endroits."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Si on doit quand m\xeame faire ce ",(0,r.jsx)(s.em,{children:"monkey-patching"})," parce qu'on n'a pas le choix, plut\xf4t que de typer la balise avec ",(0,r.jsx)(s.code,{children:"any"})," \xe0 chaque fois, on peut :","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["1 - Utiliser l'augmentation d'interface, et augmenter par exemple ",(0,r.jsx)(s.code,{children:"Document"}),".","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.code,{"data-language":"typescript","data-theme":"default",children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"declare"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" global {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"interface"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"Document"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    monkey"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"string"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  }"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"document"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:".monkey "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Tamarin"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]})]})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["2 - Cr\xe9er une interface d\xe9riv\xe9e, et faire une ",(0,r.jsx)(s.em,{children:"type assertion"})," vers celle-l\xe0 (plut\xf4t que vers ",(0,r.jsx)(s.code,{children:"any"}),") d\xe8s que n\xe9cessaire.","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.code,{"data-language":"typescript","data-theme":"default",children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"interface"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"MonkeyDocument"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"extends"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"Document"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  monkey"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"string"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(document "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"as"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"MonkeyDocument"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:").monkey "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"Macaque"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]})]})}),"\n"]}),"\n",(0,r.jsx)(s.li,{children:"La 2\xe8me solution n\xe9cessite une type assertion, mais au moins l'attribut n'est pas disponible partout tout le temps, mais seulement dans le contexte o\xf9 on sait qu'il est l\xe0."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"item-44--track-your-type-coverage-to-prevent-regressions-in-type-safety",children:"Item 44 : Track Your Type Coverage to Prevent Regressions in Type Safety"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Il existe des librairies qui font du ",(0,r.jsx)(s.strong,{children:"type coverage pour tracker les any"})," (explicites ou implicites) dans le code.\n_ M\xeame avec ",(0,r.jsx)(s.code,{children:"noImplicitAny"}),", on peut encore avoir des ",(0,r.jsx)(s.code,{children:"any"})," explicites, et des ",(0,r.jsx)(s.code,{children:"any"})," venant de librairies.\n_ Ca peut valloir la peine passer en revue les ",(0,r.jsx)(s.code,{children:"any"}),", explicites ou implicites, pour voir si ils ont toujours du sens. Par exemple avec la librairie type-coverage :\n",(0,r.jsx)(s.code,{children:"npx type-coverage --detail"})]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"6---types-declarations-and-types",children:"6 - Types Declarations and @types"}),"\n",(0,r.jsx)(s.h3,{id:"item-45--put-typescript-and-types-in-devdependencies",children:"Item 45 : Put TypeScript and @types in devDependencies"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsxs)(s.strong,{children:["Les d\xe9pendances li\xe9es \xe0 TypeScript doivent aller dans les ",(0,r.jsx)(s.code,{children:"devDependencies"})," du ",(0,r.jsx)(s.code,{children:"package.json"})]}),".","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Ca vaut pour la d\xe9pendance ",(0,r.jsx)(s.code,{children:'"typescript"'})," elle-m\xeame, et aussi pour toutes les d\xe9pendances de type ",(0,r.jsx)(s.code,{children:'"@types/*"'}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"item-46--understand-the-three-versions-involved-in-type-declarations",children:"Item 46 : Understand the Three Versions Involved in Type Declarations"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["En g\xe9n\xe9ral ",(0,r.jsxs)(s.strong,{children:["_la version du package et la version du type ",(0,r.jsx)(s.code,{children:'"@types/_"'})," doivent correspondre vis-\xe0-vis de la composante majeure et mineure"]}),". Le patch peut \xeatre diff\xe9rent parce que le package de types g\xe8re ses propres bugs.","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Par exemple ",(0,r.jsx)(s.code,{children:'"react@16.8.6"'})," et ",(0,r.jsx)(s.code,{children:'"@types/react@16.8.19"'})," est OK."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Il est possible que la version de TypeScript n\xe9cessaire pour une de nos d\xe9pendances ",(0,r.jsx)(s.code,{children:'"@types/*"'})," et notre code soit incompatible. Dans ce cas il faut soit downgrade la lib de type, soit notre version de TypeScript, soit cr\xe9er des types nous-m\xeames pour remplacer ceux de la lib de types."]}),"\n",(0,r.jsxs)(s.li,{children:["Il est possible qu'un de nos package ",(0,r.jsx)(s.code,{children:'"@types/*"'})," d\xe9pende d'un autre de ces packages de type, mais dans une version incompatible avec celle dont on a nous-m\xeame besoin. NPM va essayer de les installer tous les deux, mais pour les types \xe7a marche rarement.","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["On peut jeter un œil aux packages dupliqu\xe9s avec ",(0,r.jsx)(s.code,{children:"npm ls @types/mon-package"}),"."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["L'auteur conseille aux d\xe9veloppeurs de librairie JavaScript de cr\xe9er un package de ",(0,r.jsx)(s.code,{children:'"@types/*"'})," s\xe9par\xe9 et disponible via ",(0,r.jsx)(s.em,{children:"DefinitelyTyped"}),", plut\xf4t qu'int\xe9gr\xe9 \xe0 la librairie qui a besoin d'\xeatre typ\xe9e.","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Ces librairies de type sont ex\xe9cut\xe9es contre chaque nouvelle version de TypeScript, et les erreurs sont report\xe9es aux mainteneurs. La communaut\xe9 ",(0,r.jsx)(s.em,{children:"DefinitelyTyped"})," peut aussi nous aider si on utilise \xe7a."]}),"\n",(0,r.jsx)(s.li,{children:"Ces librairies peuvent \xeatre disponibles pour plusieurs versions de TypeScript, et globalement r\xe9gler les probl\xe8mes de type li\xe9 \xe0 des d\xe9pendances sera plus facile."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"item-47--export-all-types-that-appear-in-public-apis",children:"Item 47 : Export All Types That Appear in Public APIs"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Conseil aux d\xe9veloppeurs de librairie : ",(0,r.jsx)(s.strong,{children:"si on exporte du code typ\xe9, autant exporter l'ensemble des types aussi"}),". De toute fa\xe7on, de l'autre c\xf4t\xe9 il sera possible de r\xe9cup\xe9rer les types.","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Par exemple pour r\xe9cup\xe9rer le type des param\xe8tres ou de retour d'une fonction :","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.code,{"data-language":"typescript","data-theme":"default",children:[(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// C\xf4t\xe9 librairie"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"export"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"function"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"getGift"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(name"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"SecretName"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:")"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"SecretSanta"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"//..."})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// C\xf4t\xe9 utilisateur"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"type"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"SecretSanta"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"ReturnType"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"<"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"typeof"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" getGift>;"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"type"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"SecretName"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"Parameters"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"<"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"typeof"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" getGift>["}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"];"})]})]})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"item-48--use-tsdoc-for-api-comments",children:"Item 48 : Use TSDoc for API Comments"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Quand on veut ",(0,r.jsx)(s.strong,{children:"d\xe9crire une fonction"}),", classe, interface, type etc. avec du commentaire, il vaut mieux le faire ",(0,r.jsx)(s.strong,{children:"dans un style “JSDoc”"})," ",(0,r.jsx)(s.code,{children:"/** */"}),". La raison est que les \xe9diteurs vont le traiter comme documentation.","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Et on peut aussi penser \xe0 utiliser les ",(0,r.jsx)(s.code,{children:"@param"}),", ",(0,r.jsx)(s.code,{children:"@returns"})," etc. dans la JSDoc pour la m\xeame raison."]}),"\n",(0,r.jsx)(s.li,{children:"Il est tout \xe0 fait conventionnel d'utiliser du markdown dans le JSDoc."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"item-49--provide-a-type-for-this-in-callbacks",children:"Item 49 : Provide a Type for this in Callbacks"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["En JavaScript, ",(0,r.jsxs)(s.strong,{children:["la valeur de ",(0,r.jsx)(s.code,{children:"this"})," d\xe9pend de la mani\xe8re dont la fonction dans laquelle il est utilis\xe9 est appel\xe9e"]}),".","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Si on donne une m\xe9thode de classe en tant que callback, et qu'on l'appelle telle quelle, le ",(0,r.jsx)(s.code,{children:"this"})," \xe0 l'int\xe9rieur d'elle sera celui de l'environnement appelant.","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["On peut obliger \xe0 utiliser le ",(0,r.jsx)(s.code,{children:"this"})," de la classe avec ",(0,r.jsx)(s.code,{children:"call()"})," :","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsx)(s.code,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"maMethode"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".call"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"();"})]})})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Une autre m\xe9thode classique pour obliger \xe0 ce que la m\xe9thode ne soit ex\xe9cutable que sur sa classe est de la bind dans le constructeur :","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.code,{"data-language":"typescript","data-theme":"default",children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"class"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"MaClasse"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"constructor"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"() {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"this"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:".onClick "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"this"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"."}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"onClick"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".bind"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"this"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  }"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"onClick"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"() {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"//..."})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  }"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Une ",(0,r.jsx)(s.em,{children:"arrow function"})," n'a pas de ",(0,r.jsx)(s.code,{children:"this"})," \xe0 elle, mais utilise automatiquement le ",(0,r.jsx)(s.code,{children:"this"})," du parent de l\xe0 o\xf9 elle a \xe9t\xe9 d\xe9finie."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["On peut cr\xe9er un ",(0,r.jsxs)(s.strong,{children:["type de fonction qui indique le type du ",(0,r.jsx)(s.code,{children:"this"})," contextuel avec lequel la fonction va \xeatre appel\xe9e"]}),". C'est en particulier utile quand la fonction utilise ",(0,r.jsx)(s.code,{children:"this"}),".","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Pour cr\xe9er ce type il faut indiquer un param\xe8tre ",(0,r.jsx)(s.em,{children:"this"})," \xe0 la fonction en question :","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.code,{"data-language":"typescript","data-theme":"default",children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"function"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"addKeyListener"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  el"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"HTMLElement"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"fn"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ("}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"this"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"HTMLElement"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" e"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"KeyboardEvent"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:") "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"void"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:") {"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"fn"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".call"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(el"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" e);"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"item-50--prefer-conditional-types-to-overloaded-declarations",children:"Item 50 : Prefer Conditional Types to Overloaded Declarations"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Il vaut mieux ",(0,r.jsx)(s.strong,{children:"utiliser des types conditionnels plut\xf4t que des surcharges de types pour typer une fonction"}),".","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"C'est en particulier utile dans le cas d'unions de types : les surcharges de type vont \xeatre \xe9valu\xe9es une par une sur le type qu'il soit une union ou non, alors que le type conditionnel sera \xe9valu\xe9 contre chaque \xe9l\xe9ment de l'union de type ind\xe9pendamment, pour former une union finale."}),"\n",(0,r.jsxs)(s.li,{children:["Exemple avec une fonction qui double un string ou un nombre :","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.code,{"data-language":"typescript","data-theme":"default",children:[(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// Fonction initiale non typ\xe9e."})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"function"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"double"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(x) {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" x "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"+"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" x;"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// Avec la surcharge on ne peut pas donner une"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// valeur string | number \xe0 la fonction : aucune"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// des surcharges ne le supporte."})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"function"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"double"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(x"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"number"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:")"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"number"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"function"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"double"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(x"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"string"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:")"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"string"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// Avec le type conditionnel on obtient string | number"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// en sortie (d'abord c'est string qui est \xe9valu\xe9 vis-\xe0-vis"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// de la condition, puis number pour former l'union finale)."})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"function"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"double"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"<"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"T"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"extends"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"number"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"|"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"string"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:">("})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  x"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"T"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:")"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"T"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"extends"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"string"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"?"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"string"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"number"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]})]})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"item-51--mirror-types-to-server-dependencies",children:"Item 51 : Mirror Types to Server Dependencies"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Conseil pour les d\xe9veloppeurs de librairie : si on a une librairie utilisable c\xf4t\xe9 client et serveur, et qu'on a besoin d'un ",(0,r.jsx)(s.strong,{children:"type qui n'est disponible que c\xf4t\xe9 serveur"}),", alors ",(0,r.jsx)(s.strong,{children:"il vaut mieux cr\xe9er une version r\xe9duite de ce type"})," et l'utiliser, pour \xe9viter de forcer les utilisateur de la lib c\xf4t\xe9 client d'installer les types de Node.js.","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Par exemple, si on a besoin du type ",(0,r.jsx)(s.code,{children:"Buffer"})," de Node.js uniquement dans le cas o\xf9 le code est appel\xe9 c\xf4t\xe9 serveur, et qu'on fallback sur ",(0,r.jsx)(s.code,{children:"string"})," sinon, on peut cr\xe9er une interface ",(0,r.jsx)(s.code,{children:"CustomBuffer"})," avec juste les m\xe9thodes qu'il nous faut au lieu du type ",(0,r.jsx)(s.code,{children:"Buffer"}),".","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.code,{"data-language":"typescript","data-theme":"default",children:[(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// Faire \xe7a"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"interface"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"CSVBuffer"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"toString"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(encoding"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"string"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:")"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"string"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"function"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"parseCSV"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(contents"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"string"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"|"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"CSVBuffer"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:") {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"if"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ("}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"typeof"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" contents "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"==="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"object"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:") {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"//..."})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  }"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// Plut\xf4t que \xe7a"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"function"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"parseCSV"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(contents"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"string"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"|"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"Buffer"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:") {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"if"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ("}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"typeof"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" contents "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"==="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"object"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:") {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"//..."})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  }"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"item-52--be-aware-of-the-pitfalls-of-testing-types",children:"Item 52 : Be Aware of the Pitfalls of Testing Types"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Il est possible de ",(0,r.jsx)(s.strong,{children:"tester les types"})," TypeScript complexes avec des types, mais cette technique pr\xe9sente de nombreux probl\xe8mes. ",(0,r.jsx)(s.strong,{children:"Il vaut mieux utiliser un outil externe"})," \xe0 la place, par exemple ",(0,r.jsx)(s.em,{children:"dtslint"}),".","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.em,{children:"dtslint"})," lit les commentaires pour faire des v\xe9rifications, par exemple :","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsx)(s.code,{"data-language":"typescript","data-theme":"default",children:(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// $ExpectType string"})})})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"7---writing-and-running-your-code",children:"7 - Writing and Running Your Code"}),"\n",(0,r.jsx)(s.h3,{id:"item-53--prefer-ecmascript-features-to-typescript-features",children:"Item 53 : Prefer ECMAScript Features to TypeScript Features"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Historiquement, TypeScript avait cr\xe9\xe9 des fonctionnalit\xe9s c\xf4t\xe9 runtime pour palier au manque de JavaScript, mais comme ces fonctionnalit\xe9s se sont ajout\xe9es \xe0 JavaScript petit \xe0 petit d'une mani\xe8re incompatible, l'\xe9quipe derri\xe8re TypeScript a choisi de ne se concentrer plus que sur le typage, et de laisser le runtime au TC39."}),"\n",(0,r.jsxs)(s.li,{children:["Il existe des ",(0,r.jsx)(s.strong,{children:"reliquats runtime"})," ajout\xe9s par TypeScript, et ",(0,r.jsx)(s.strong,{children:"que l'auteur d\xe9conseille d'utiliser"})," :","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Les ",(0,r.jsx)(s.strong,{children:"enums"}),".","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Ils existent en plusieurs variantes :","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Les enums bas\xe9s sur les nombres ne procurent pas assez de type safety puisqu'on peut assigner n'importe quel nombre \xe0 la place."}),"\n",(0,r.jsx)(s.li,{children:"Les enums bas\xe9s sur les strings sont type safe, mais ont un comportement incoh\xe9rent par rapport au reste du syst\xe8me de type : ils n'utilisent pas le structural typing. On ne peut pas passer un string \xe0 la place de l'\xe9l\xe9ment d'enum."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["L'auteur conseille d'",(0,r.jsx)(s.strong,{children:"utiliser les unions de strings \xe0 la place"}),"."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Les ",(0,r.jsx)(s.strong,{children:"parameter properties"})," sont la mani\xe8re compacte de d\xe9clarer des variables membres et de leur assigner une valeur en param\xe8tre du constructeur.","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"L'auteur reconna\xeet qu'il y a un d\xe9saccord dans la communaut\xe9 \xe0 leur sujet, mais il les d\xe9conseille personnellement parce qu'il trouve qu'ils ajoutent de la confusion en m\xe9langeant les param\xe8tres d\xe9clar\xe9s ou non, et ne sont pas en phase avec le reste des patterns de TypeScript."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Les ",(0,r.jsx)(s.strong,{children:"namespaces"})," et les ",(0,r.jsx)(s.strong,{children:"triple-slash imports"}),".","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Exemple :","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.code,{"data-language":"typescript","data-theme":"default",children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"namespace"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"foo"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"function"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"bar"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"() {}"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"/// <"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"reference"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"path"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"other.ts"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"/>"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"foo"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".bar"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"();"})]})]})}),"\n"]}),"\n",(0,r.jsx)(s.li,{children:"Depuis que ES6 a ajout\xe9 les modules, ils ne sont plus utiles que pour les types. Il ne faut pas les utiliser pour autre chose."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"item-54--know-how-to-iterate-over-objects",children:"Item 54 : Know How to Iterate Over Objects"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["L'auteur propose deux mani\xe8re d'",(0,r.jsx)(s.strong,{children:"it\xe9rer sur les attributs d'un objet"})," :","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"for in"})," avec ",(0,r.jsx)(s.strong,{children:"keyof T"})," permet d'it\xe9rer sur un ",(0,r.jsx)(s.strong,{children:"objet dont on pense conna\xeetre raisonnablement le type d'attributs"}),".","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["On va d\xe9clarer une variable avant la boucle, et faire une ",(0,r.jsx)(s.em,{children:"type declaration"})," dessus avec le type de la cl\xe9 de l'objet, par exemple :","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.code,{"data-language":"typescript","data-theme":"default",children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"let"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" key"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"keyof"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"typeof"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" myObject;"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"for"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" (key "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"in"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" myObject) {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// ..."})]})]})}),"\n"]}),"\n",(0,r.jsx)(s.li,{children:"Il faut que cet objet soit bien connu parce qu'il pourrait tr\xe8s bien avoir d'autres attributs non exprim\xe9s par son type (du fait du structural typing), et donc y compris des attributs compl\xe8tement inconnus et non pr\xe9vus, qui pourraient causer une erreur au runtime."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Object.entries"})," permet d'it\xe9rer sur un ",(0,r.jsx)(s.strong,{children:"objet inconnu"}),", mais le typage sera moins pr\xe9cis : on va obtenir ",(0,r.jsx)(s.code,{children:"string"})," pour la cl\xe9, et ",(0,r.jsx)(s.code,{children:"any"})," pour la valeur.","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Exemple :","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.code,{"data-language":"typescript","data-theme":"default",children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"for"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ("}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" ["}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"k"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"v"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"] "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"of"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"Object"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".entries"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(myObject)) {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// ..."})]})]})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Au moins on a bien le ",(0,r.jsx)(s.code,{children:"any"})," qui marque que la valeur peut \xeatre n'importe quoi, y compris des choses non pr\xe9vus par le type de l'objet."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"item-55--understand-the-dom-hierarchy",children:"Item 55 : Understand the DOM hierarchy"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Le ",(0,r.jsx)(s.strong,{children:"DOM"})," c\xf4t\xe9 client a une hi\xe9rarchie d'objets pour exprimer son contenu :","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Voici la hi\xe9rarchie :","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:(0,r.jsx)(s.code,{children:"EventTarget"})})," est le plus ",(0,r.jsx)(s.em,{children:"high level"}),", il peut repr\xe9senter n'importe quel \xe9l\xe9ment \xe9mettant des events, y compris ",(0,r.jsx)(s.code,{children:"window"}),", ",(0,r.jsx)(s.code,{children:"XMLHttpRequest"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:(0,r.jsx)(s.code,{children:"Node"})})," est un peu plus pr\xe9cis, et peut repr\xe9senter par exemple ",(0,r.jsx)(s.code,{children:"document"}),", ",(0,r.jsx)(s.code,{children:"Text"}),", ",(0,r.jsx)(s.code,{children:"Comment"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:(0,r.jsx)(s.code,{children:"Element"})})," est plus pr\xe9cis, et peut repr\xe9senter ",(0,r.jsx)(s.code,{children:"HTMLElement"}),", ",(0,r.jsx)(s.code,{children:"SVGElement"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:(0,r.jsx)(s.code,{children:"HTMLElement"})})," est plus pr\xe9cis, et peut repr\xe9senter des balises comme ",(0,r.jsx)(s.code,{children:"<i>"}),", ",(0,r.jsx)(s.code,{children:"<b>"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:(0,r.jsx)(s.code,{children:"HTMLButtonElement"})})," est sp\xe9cifique \xe0 la balise ",(0,r.jsx)(s.code,{children:"<button>"}),"."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Sur un ",(0,r.jsx)(s.code,{children:"HTMLParagraphElement"})," par exemple, ",(0,r.jsx)(s.code,{children:"p.children"})," permet de r\xe9cup\xe9rer les balises enfants, qui seront une collection d'",(0,r.jsx)(s.code,{children:"HTMLElement"}),", alors que ",(0,r.jsx)(s.code,{children:"p.childNodes"})," permet de r\xe9cup\xe9rer tous les \xe9l\xe9ments de type ",(0,r.jsx)(s.code,{children:"Node"}),", y compris un commentaire, ou un bout de texte dans la balise."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Quand on r\xe9cup\xe8re un \xe9l\xe9ment par un moyen non safe, par exemple par son ID, TypeScript va le typer au mieux, c'est-\xe0-dire du type des \xe9l\xe9ments qui peuvent porter des IDs.","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Dans le cas o\xf9 on sait que l'\xe9l\xe9ment est un paragraphe, on va pouvoir faire une type assertion dessus.","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsx)(s.code,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"document"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".getElementById"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"my-paragraph"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:") "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"as"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"HTMLParagraphElement"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]})})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Pareil si on sait que l'\xe9l\xe9ment sera forc\xe9ment l\xe0, on pourrait faire une type assertion de non nullit\xe9 avec ",(0,r.jsx)(s.code,{children:"!"}),"\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsx)(s.code,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"div"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"document"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:".getElementById"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"my-div"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:")"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"!"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]})})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Pour ce qui est des events, il y a ",(0,r.jsx)(s.strong,{children:(0,r.jsx)(s.code,{children:"Event"})})," qui est le plus g\xe9n\xe9rique, et des events particuliers ",(0,r.jsx)(s.code,{children:"MouseEvent"}),", ",(0,r.jsx)(s.code,{children:"TouchEvent"})," etc.","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Il faut faire attention \xe0 bien typer les param\xe8tres de nos callbacks prenant des events, en les typant avec le bon event, et au besoin en inlinant la fonction pour donner du contexte \xe0 TypeScript et ne pas avoir \xe0 typer le param\xe8tre."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"item-56--dont-rely-on-private-to-hide-information",children:"Item 56 : Don't Rely on Private to Hide Information"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Dans une classe, un membre d\xe9clar\xe9 private pourra \xeatre acc\xe9d\xe9 sans trop de probl\xe8mes par un utilisateur qui le veut. Si on veut lui donner plus de mal :","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["On peut utiliser les ",(0,r.jsx)(s.strong,{children:"membres priv\xe9s JavaScript"})," avec ",(0,r.jsx)(s.code,{children:"#"}),".","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.code,{"data-language":"typescript","data-theme":"default",children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"class"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"PasswordChecker"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  #passwordHash"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"number"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// ..."})]})]})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["On peut utiliser la ",(0,r.jsx)(s.strong,{children:"closure"}),", en cr\xe9ant une fonction qui a acc\xe8s \xe0 la valeur secr\xe8te dans le constructeur. On ne pourra plus acc\xe9der \xe0 la valeur sans passer par cette fonction membre.","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.code,{"data-language":"typescript","data-theme":"default",children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"class"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"PasswordChecker"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"checkPassword"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" (password"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"string"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:") "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"boolean"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"constructor"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(passwordHash"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"number"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:") {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"this"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"."}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"checkPassword"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" (password"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"string"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:") "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"      "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"hash"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"(password) "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"==="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" passwordHash;"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    };"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  }"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"item-57--use-source-maps-to-debug-typescript",children:"Item 57 : Use Source Maps to Debug TypeScript"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Vu que TypeScript transpile du code Vers JavaScript, si on veut d\xe9bugger le code TypeScript il nous faut un moyen de mapper le code ex\xe9cut\xe9 au code TypeScript.","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\xc7a se fait avec la g\xe9n\xe9ration de ",(0,r.jsx)(s.strong,{children:"source maps"})," qu'on peut activer avec l'option ",(0,r.jsx)(s.code,{children:'"sourceMap": true'})," dans ",(0,r.jsx)(s.em,{children:"tsconfig.json"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:["Les fichiers de ",(0,r.jsx)(s.em,{children:"source map"})," se terminent par ",(0,r.jsx)(s.em,{children:".js.map"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"8---migrating-to-typescript",children:"8 - Migrating to TypeScript"}),"\n",(0,r.jsx)(s.h3,{id:"item-58--write-modern-javascript",children:"Item 58 : Write Modern JavaScript"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["TypeScript transpile vers JavaScript, donc on peut, et on devrait adopter les derni\xe8res fonctionnalit\xe9s d'ECMAScript.","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Les modules ES6 \xe0 la place des require et autres mani\xe8res de combiner du code."}),"\n",(0,r.jsx)(s.li,{children:"Les classes ES6 \xe0 la place de jouer avec les prototypes."}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"let"})," et ",(0,r.jsx)(s.code,{children:"const"})," \xe0 la place de ",(0,r.jsx)(s.code,{children:"var"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"for..of"})," ou ",(0,r.jsx)(s.code,{children:"forEach"})," \xe0 la place de ",(0,r.jsx)(s.code,{children:"for (let i = 0; i < ..."}),"."]}),"\n",(0,r.jsxs)(s.li,{children:["Les ",(0,r.jsx)(s.em,{children:"arrow functions"})," \xe0 la place des ",(0,r.jsx)(s.em,{children:"function expressions"}),", pour \xe9viter le ",(0,r.jsx)(s.code,{children:"this"})," d\xe9pendant du contexte, et avoir plut\xf4t le ",(0,r.jsx)(s.code,{children:"this"})," de l\xe0 o\xf9 la fonction a \xe9t\xe9 d\xe9clar\xe9e."]}),"\n",(0,r.jsxs)(s.li,{children:["Utiliser les ",(0,r.jsx)(s.em,{children:"compact object literals"})," :","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.code,{"data-language":"typescript","data-theme":"default",children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"x"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"1"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"y"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"2"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"z"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"3"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"pt"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" { x"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" y"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" z };"})]})]})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Utiliser l'",(0,r.jsx)(s.em,{children:"object destructuring"})," :","\n",(0,r.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,r.jsxs)(s.code,{"data-language":"typescript","data-theme":"default",children:[(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// Seuls a et b deviennent des variables"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"  props: { "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"a"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"b"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" }"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"} "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" obj;"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// Si a n'existe pas, elle prend la valeur 'default'"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" { "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"a"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"default"'}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" } "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"obj"}),(0,r.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:".props;"})]})]})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"async / await"})," plut\xf4t que ",(0,r.jsx)(s.code,{children:".then(callback)"}),"."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.li,{children:"On peut en savoir plus sur les nouvelles (et prochaines) features dans JavaScript en jetant un coup d'œil au repo GitHub du TC39."}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"item-59--use-ts-check-and-jsdoc-to-experiment-with-typescript",children:"Item 59 : Use @ts-check and JSDoc to Experiment with TypeScript"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"@ts-check permet d'activer TypeScript seulement dans certains fichiers"}),", pour voir des erreurs dans ces endroits avant de commencer \xe0 migrer.","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Il va en particulier indiquer les probl\xe8mes de variables globales non d\xe9clar\xe9es, librairies sans types, typage des \xe9l\xe9ments du DOM, incoh\xe9rences dans la JSDoc."}),"\n",(0,r.jsx)(s.li,{children:"On peut utiliser ce proc\xe9d\xe9 pour commencer \xe0 ajouter un peu typage dans la JSDoc en attendant de migrer vers TypeScript."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"item-60--use-allowjs-to-mix-typescript-and-javascript",children:"Item 60 : Use allowJs to Mix TypeScript and JavaScript"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Pour commencer \xe0 migrer petit \xe0 petit il vaut mieux permettre au ",(0,r.jsx)(s.strong,{children:"code TypeScript de cohabiter avec Javascript"}),", en utilisant l'",(0,r.jsx)(s.strong,{children:"option allowJs"})," dans ",(0,r.jsx)(s.em,{children:"tsconfig.json"}),"."]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"item-61--convert-module-by-module-up-your-dependency-graph",children:"Item 61 : Convert Module by Module Up Your Dependency Graph"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Une fois qu'on a introduit TypeScript dans la codebase, il faut migrer vers TypeScript module par module, ",(0,r.jsx)(s.strong,{children:"en commen\xe7ant par les modules qui ne d\xe9pendent pas des autres modules du code"}),".","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["1 - On ajoute les librairies ",(0,r.jsx)(s.code,{children:'"@types/*"'})," pour nos d\xe9pendances."]}),"\n",(0,r.jsx)(s.li,{children:"2 - On type les donn\xe9es venant d'API externes."}),"\n",(0,r.jsxs)(s.li,{children:["3 - On peut visualiser le ",(0,r.jsx)(s.em,{children:"dependency graph"})," de nos modules (par exemple avec l'outil ",(0,r.jsx)(s.em,{children:"madge"}),"), et migrer d'abord ceux qui d\xe9pendent le moins possible des autres."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["L'auteur recommande de ",(0,r.jsx)(s.strong,{children:"ne pas am\xe9liorer le design du code par des refactorings au moment de la migration"}),", au risque de ne pas avancer dans l'ajout de types."]}),"\n",(0,r.jsxs)(s.li,{children:["Parmi les probl\xe8mes suppl\xe9mentaires qu'on va rencontrer en ajoutant des types :","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Les variables membres non d\xe9clar\xe9es dans les classes. Heureusement, notre \xe9diteur peut nous aider \xe0 d\xe9clarer tous les membres non d\xe9clar\xe9s automatiquement."}),"\n",(0,r.jsxs)(s.li,{children:["Les variables dont le type change au cours du temps, alors que TypeScript inf\xe8re le type \xe0 la d\xe9claration. On peut utiliser des ",(0,r.jsx)(s.em,{children:"type assertions"})," temporaires."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"item-62--dont-consider-migration-complete-until-you-enable-noimplicitany",children:"Item 62 : Don't Consider Migration Complete Until You Enable noImplicitAny"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Sans ",(0,r.jsx)(s.strong,{children:"noImplicitAny"}),", TypeScript est comme une passoire. Il faut ",(0,r.jsx)(s.strong,{children:"l'activer d\xe8s que possible"}),".","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Une strat\xe9gie possible est de l'activer localement, r\xe9gler une partie des erreurs, et d'int\xe9grer que le code sans le changement dans ",(0,r.jsx)(s.em,{children:"tsconfig.json"}),"."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["On peut laisser peu de temps \xe0 l'\xe9quipe pour s'habiter \xe0 TypeScript avant d'aller vers des r\xe8gles plus strictes comme ",(0,r.jsx)(s.code,{children:'"strict": true'})," et ",(0,r.jsx)(s.code,{children:'"strictNullChecks"'}),"."]}),"\n"]})]})}s.default=(0,l.j)({MDXContent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}=Object.assign({},(0,i.a)(),e.components);return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(o,{...e})}):o(e)},pageOpts:{filePath:"pages/books/effective-typescript.mdx",route:"/books/effective-typescript",title:"Effective TypeScript",headings:t},pageNextRoute:"/books/effective-typescript"})}},function(e){e.O(0,[673,888,774,179],function(){return e(e.s=9186)}),_N_E=e.O()}]);